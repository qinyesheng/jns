(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dcd723f6"],{"0622":function(t,e,i){"use strict";var a=i("be18"),n=i.n(a);n.a},"0c48":function(t,e,i){"use strict";var a=i("f197"),n=i.n(a);n.a},1354:function(t,e,i){"use strict";var a=i("305e"),n=i.n(a);n.a},"305e":function(t,e,i){},"646a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("headerOne",{attrs:{backgroundStatus:!0,rightText:t.rightText,title:"报告详情",isFixed:!0},on:{onClickRight:t.reportShare}}),i("div",{staticClass:"main-container"},[t.report.baseInfo?i("carDetectionReportV1",{attrs:{report:t.report,data:t.data}}):t._e(),t.qrCodeLink?i("qrCodeReport",{attrs:{qrCodeLink:t.qrCodeLink}}):t._e()],1),t.payBtnShow?i("div",{staticClass:"btn",on:{click:t.pushCarOwner}},[i("div",{staticClass:"report-btn",class:this.data.orgPointsStatusMsg?"disabled":""},[t._v("生成报告")]),i("div",{staticClass:"pad"})]):t._e(),t.repairBtnShow?i("div",{staticClass:"btn",on:{click:t.turnRepairOrder}},[i("div",{staticClass:"report-btn"},[t._v("转化维修工单")]),i("div",{staticClass:"pad"})]):t._e()],1)},n=[],r=i("87d9"),o=i("e17b"),s=i("a7f8"),l=i("849d"),c=i("97a4"),d=i("78d0"),u=(i("cf45"),""),p={components:{headerOne:r["a"],qrCodeReport:c["a"],carDetectionReportV1:d["a"]},data:function(){return{data:{},report:{},baseInfo:{},makeResult:[],quality_time:"",quality_km:"",total_price:"",bill_id:"",qrCodeLink:"",hederTitle:"",carLogoPre:"https://www.wanguoqiche.com/files/logo/",repairBtnShow:!1,payBtnShow:!1}},created:function(){},mounted:function(){this.bill_id=this.$route.query.billId,this.bill_id||this.$toast.fail("缺少billId"),this.getReportById(this.bill_id),this.hederTitle=this.$router.history.current.meta.title,u=this,window.appToH5=function(){u.getReportById(u.billId)}},computed:{rightText:function(){return this.qrCodeLink?"分享":""}},methods:{getReportById:function(t){var e=this,i={billId:this.bill_id||""};s["a"].getReportByBillId(i).then(function(t){2e4==t.code?(e.data=t.data,e.report=t.data.reportData,e.baseInfo=e.report.baseInfo,e.qrCodeLink=e.report.ownerReportUrl,"2"==t.data.pushStatus?e.payBtnShow=!0:e.payBtnShow=!1,"1"==t.data.pushStatus&&!e.report.newBillId&&e.report.maintenance.length>0?e.repairBtnShow=!0:e.repairBtnShow=!1):e.$toast.fail(t.msg)})},reportShare:function(){var t={shareUrl:this.qrCodeLink,title:this.report.title,subtitle:this.baseInfo.carMemo,logo:this.carLogoPre+this.baseInfo.carBrandLogo+".jpg",bill_id:this.bill_id,sms:1,bill_type:"J004"};o["a"].h5ToApp("share",t)},pushCarOwner:function(){if(!this.data.orgPointsStatusMsg){var t={bill_id:this.bill_id,bill_type:"J004"};o["a"].h5ToApp("payOrder",t)}},turnRepairOrder:function(){var t=this,e={billId:this.bill_id||""};l["a"].changeRepair(e).then(function(e){2e4==e.code?(t.repairBtnShow=!1,t.$toast.success("提交成功")):t.$toast.fail(e.msg)})}}},f=p,h=(i("0c48"),i("2877")),g=Object(h["a"])(f,a,n,!1,null,"e129712c",null);e["default"]=g.exports},"849d":function(t,e,i){"use strict";var a=i("b775");e["a"]={changeRepair:function(t){return a["a"].post("/Bill/Undisposed/changeRepair",t)},getBIllCertificate:function(t){return a["a"].post("/Bill/Undisposed/getBIllCertificate",t)},saveBillCertificate:function(t){return a["a"].post("/Bill/undisposed/saveBillCertificate",t)},getBillDetail:function(t){return a["a"].post("/Bill/Undisposed/getBillDetail",t)},getExtendedWarrantyPackageList:function(t){return a["a"].post("/Bill/Undisposed/getExtendedWarrantyPackageList",t)}}},"87d9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-one"},[i("van-nav-bar",{class:{"clear-background":t.backgroundStatus,"border-bottom":t.isborderBottom},attrs:{"z-index":999,fixed:t.isFixed,border:!0,title:t.title,"left-text":t.leftText,"right-text":t.rightText,"left-arrow":t.leftArrow},on:{"click-left":function(e){return t.onClickLeft()},"click-right":t.onClickRight}},["icon"==t.rightText?i("van-icon",{staticClass:"icon-right",attrs:{slot:"right",color:"#000",name:t.iconName},slot:"right"}):t._e()],1),i("van-row",{class:{"header-fixed-margin":t.isFixed,"header-fixed-margin-hide":!t.isFixed}})],1)},n=[],r=(i("c3a6"),i("ad06")),o=(i("68ef"),i("8a0b"),i("2638")),s=i.n(o),l=i("a142"),c=i("ba31"),d=Object(l["j"])("nav-bar"),u=d[0],p=d[1];function f(t,e,i,a){return t("div",s()([{class:[p({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(c["b"])(a)]),[t("div",{class:p("left"),on:{click:a.listeners["click-left"]||l["h"]}},[i.left?i.left():[e.leftArrow&&t(r["a"],{class:p("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:p("text")},[e.leftText])]]),t("div",{class:[p("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:p("right"),on:{click:a.listeners["click-right"]||l["h"]}},[i.right?i.right():e.rightText&&t("span",{class:p("text")},[e.rightText])])])}f.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}};var h,g=u(f),b=i("9ef6");function B(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var v={name:"HeaderOne",data:function(){return{}},components:(h={},B(h,g.name,g),B(h,r["a"].name,r["a"]),h),props:{title:{type:String,default:""},isFixed:{type:Boolean,default:!1},backgroundStatus:{type:Boolean,default:!1},leftText:{type:String,default:""},rightText:{type:String,default:""},leftArrow:{type:Boolean,default:!0},onClickLeftStatus:{type:Boolean,default:!1},isborderBottom:{type:Boolean,default:!1},iconName:{type:String,default:"share"}},mounted:function(){},methods:{onClickLeft:function(){this.onClickLeftStatus?this.$emit("onClickLeft"):b["a"].handle()},onClickRight:function(){this.$emit("onClickRight")}}},y=v,w=(i("0622"),i("2877")),x=Object(w["a"])(y,a,n,!1,null,null,null);e["a"]=x.exports},"8a0b":function(t,e,i){},"97a4":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},[i("van-button",{ref:"buttonSelector",style:t.styleButton,attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.qrCodeView}},[t._v("查看二维码")])],1),i("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed}),i("van-popup",{staticClass:"qr-code-canvas-popup",attrs:{"lazy-render":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("canvas",{directives:[{name:"show",rawName:"v-show",value:1==t.show,expression:"show==true"}],staticClass:"qr-code-canvas",attrs:{id:"qrCodeCanvas"}})])],1)])},n=[],r=i("d055"),o=i.n(r),s={name:"qrCodeReport",data:function(){return{show:!1,styleButton:{},styleButtonFixed:{}}},props:{qrCodeLink:{type:String,default:""},background:{type:String,default:"#46aef7"},isFixed:{type:Boolean,default:!1}},mounted:function(){this.init(),this.styleButtonHandle(),this.useQrcode()},methods:{init:function(){var t=this.$refs.buttonSelector.offsetHeight+10;this.styleButtonFixed={height:t+"px"}},qrCodeView:function(){this.show?this.show=!1:this.show=!0},useQrcode:function(){var t=this,e=document.getElementById("qrCodeCanvas");o.a.toCanvas(e,t.qrCodeLink||"",{width:180,margin:1},function(t){})},styleButtonHandle:function(){this.styleButton={"background-color":this.background,border:"1px solid"+this.background}}}},l=s,c=(i("1354"),i("2877")),d=Object(c["a"])(l,a,n,!1,null,"022bfa90",null);e["a"]=d.exports},a7f8:function(t,e,i){"use strict";var a=i("b775");e["a"]={getBillDetail:function(t){return a["a"].post("/Bill/Report/getReportByJ005",{billId:t})},getReportByBillIdV2:function(t){return a["a"].post("/Bill/Report/getReportByBillIdV2",{billId:t})},getReportByBillIdV3:function(t){return a["a"].post("/Bill/Report/getReportByBillIdV3",{bill_id:t})},getReportByBillId:function(t){return a["a"].post("/Bill/Report/getReportByBillId",t)}}},be18:function(t,e,i){},f197:function(t,e,i){}}]);