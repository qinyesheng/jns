(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e054058"],{"0a26":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var a=n("ad06"),o=n("f331"),s=function(t,e){return{mixins:[o["a"]],props:{name:null,value:null,disabled:Boolean,checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"}},created:function(){this.findParent(t)},computed:{isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var t=this.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}}},render:function(t){var n=this,o=this.slots,s=this.checked,i=o("icon",{checked:s})||t(a["a"],{attrs:{name:"success"},style:this.iconStyle}),r=o()&&t("span",{class:e("label",[this.labelPosition,{disabled:this.isDisabled}]),on:{click:this.onClickLabel}},[o()]);return t("div",{class:e(),on:{click:function(t){n.$emit("click",t)}}},[t("div",{class:e("icon",[this.shape,{disabled:this.isDisabled,checked:s}]),on:{click:this.onClickIcon}},[i]),r])}}}},"4ddd":function(t,e,n){"use strict";n("68ef"),n("dde9")},"5a28":function(t,e,n){"use strict";var a=n("5b92"),o=n.n(a);o.a},"5b92":function(t,e,n){},"9f14":function(t,e,n){"use strict";var a=n("a142"),o=n("0a26"),s=Object(a["j"])("radio"),i=s[0],r=s[1];e["a"]=i({mixins:[Object(o["a"])("van-radio-group",r)],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{onClickIcon:function(){this.isDisabled||(this.currentValue=this.name)},onClickLabel:function(){this.isDisabled||this.labelDisabled||(this.currentValue=this.name)}}})},a44c:function(t,e,n){"use strict";n("68ef")},af94:function(t,e,n){"use strict";n.r(e);var a,o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"main-container"},[n("van-row",{staticClass:"booking-data-block"},[n("van-row",{staticClass:"row-block"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("预约状态:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.statusList[t.orderData.status]))])],1),t.orderData.arrival_time?n("van-row",{staticClass:"row-block"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("预约时间:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.orderData.arrival_time))])],1):t._e(),n("van-row",{staticClass:"row-block"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("预约站点:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.orderData.shop_name))])],1),n("van-row",{staticClass:"row-block"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("站点地址:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.orderData.address))])],1),t.orderData.comment?n("van-row",{staticClass:"row-block"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("备注:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.orderData.comment))])],1):t._e(),t.orderData.close_desc?n("van-row",{staticClass:"row-block close-desc"},[n("van-col",{staticClass:"left-block",attrs:{span:"6"}},[t._v("取消原因:")]),n("van-col",{staticClass:"right-block",attrs:{span:"18"}},[t._v(t._s(t.orderData.close_desc))])],1):t._e()],1)],1),0==t.orderData.status?n("pubButton",{attrs:{background:"#e14732",title:"取消订单"},on:{buttonConfirm:t.cancelOrder}}):t._e(),n("van-popup",{staticClass:"cancel-order-popup",model:{value:t.cancelOrderStatus,callback:function(e){t.cancelOrderStatus=e},expression:"cancelOrderStatus"}},[n("van-cell-group",{staticClass:"cancel-order-popup-title",attrs:{title:"取消订单原因"}},[n("van-radio-group",{staticClass:"cancel-order-popup-radio",model:{value:t.radioReasonStatus,callback:function(e){t.radioReasonStatus=e},expression:"radioReasonStatus"}},t._l(t.radioList,function(e,a){return n("van-radio",{key:a,attrs:{name:a},on:{click:t.checkRadio}},[t._v(t._s(e))])}),1),n("van-field",{ref:"otherInput",staticClass:"other-desc",attrs:{placeholder:2==this.radioReasonStatus?t.placeholderOtherInput:t.placeholder,type:"textarea",row:"2",readonly:2!=this.radioReasonStatus},on:{input:t.radioInput},model:{value:t.radioReasonText,callback:function(e){t.radioReasonText=e},expression:"radioReasonText"}})],1),n("van-row",{staticClass:"cancel-button"},[n("van-col",{attrs:{span:"12"}},[n("van-button",{attrs:{block:""},on:{click:t.closePopup}},[t._v("关闭")])],1),n("van-col",{attrs:{span:"12"}},[n("van-button",{attrs:{type:"warning",block:""},on:{click:t.confirmCancel}},[t._v("确定取消")])],1)],1)],1)],1)},s=[],i=(n("4ddd"),n("9f14")),r=(n("a44c"),n("e27c")),c=(n("be7f"),n("565f")),l=n("e62a"),u=n("f7b2");function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f={data:function(){return{placeholder:"选择“其他原因”时填写",placeholderOtherInput:"请填写取消订单原因",radioList:["等太久","临时有事","其他原因"],radioReasonStatus:!1,radioReason:"",radioReasonText:"",showMenuStatus:!1,orderData:{},statusList:{0:"预约成功",1:"待处理",2:"已取消",3:"已完成",4:"处理中"},cancelOrderStatus:!1}},components:(a={pubButton:l["a"]},d(a,c["a"].name,c["a"]),d(a,r["a"].name,r["a"]),d(a,i["a"].name,i["a"]),a),created:function(){this.init()},mounted:function(){},methods:{init:function(){var t=this.$route.params;this.getBookingInfoById(t.billId)},showMenu:function(){this.showMenuStatus=!0},getBookingInfoById:function(t){var e=this;u["a"].getBookingInfoById(t).then(function(t){if(2e4==t.code){var n=t.data;e.orderData=n}else e.toast.fail(t.msg)})},cancelOrder:function(){this.cancelOrderStatus=!0},checkRadio:function(){2==this.radioReasonStatus?(this.$refs["otherInput"].focus(),this.radioReason=this.radioReasonText):(this.$refs["otherInput"].blur(),this.radioReason=this.radioList[this.radioReasonStatus])},closePopup:function(){this.cancelOrderStatus=!1},radioInput:function(){this.radioReason=this.radioReasonText},confirmCancel:function(){var t=this;if(2==this.radioReasonStatus&&!this.radioReasonText)return this.$toast("请填写原因"),!1;if(!this.radioReason)return this.$toast("请选择取消订单原因"),!1;var e=this.$route.params,n=e.billId,a={bill_id:n,close_desc:this.radioReason};u["a"].cancelBookingById(a).then(function(e){2e4==e.code?(t.$toast.success({duration:500,message:"取消成功"}),t.cancelOrderStatus=!1,t.$session.set("orderActive",!0),t.$session.set("routerActive",1),setTimeout(function(){t.$router.back(-1)},1500)):t.$toast.fail(e.msg)})}}},h=f,p=(n("5a28"),n("2877")),b=Object(p["a"])(h,o,s,!1,null,"6efd30d8",null);e["default"]=b.exports},be7f:function(t,e,n){"use strict";n("68ef"),n("1146")},d5c9:function(t,e,n){},dde9:function(t,e,n){},e27c:function(t,e,n){"use strict";var a=n("a142"),o=Object(a["j"])("radio-group"),s=o[0],i=o[1];e["a"]=s({props:{value:null,disabled:Boolean},watch:{value:function(t){this.$emit("change",t)}},render:function(t){return t("div",{class:i()},[this.slots()])}})},e62a:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showStatus,expression:"showStatus"}],ref:"buttonSelector",style:t.styleButton,attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.buttonConfirm}},[t._v(t._s(t.title))])],1),n("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed})],1)},o=[];function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c={data:function(){return{showStatus:!0,styleButton:{},styleButtonFixed:{}}},props:{title:{type:String,default:""},background:{type:String,default:"#46aef7"},isFixed:{type:Boolean,default:!0},textColor:{type:String,default:"#fff"}},created:function(){},mounted:function(){this.init(),this.screenSizeControl(),this.styleButtonHandle()},methods:{init:function(){var t=this.$refs.buttonSelector.offsetHeight+10;this.styleButtonFixed={height:t+"px"}},buttonConfirm:function(){this.$emit("buttonConfirm")},screenSizeControl:function(){var t=this,e=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var n=document.documentElement.clientHeight||document.body.clientHeight,a=e-n;t.showStatus=!(n<e&&a>100)}},styleButtonHandle:function(){this.styleButton={"background-color":this.background,border:"1px solid"+this.background,color:this.textColor}}},watch:{background:function(t,e){var n={"background-color":t,border:"1px solid"+t};this.styleButton=i({},this.styleButton,{},n)}}},l=c,u=(n("fc10"),n("2877")),d=Object(u["a"])(l,a,o,!1,null,"68d620b5",null);e["a"]=d.exports},f7b2:function(t,e,n){"use strict";var a=n("b775");e["a"]={addBooking:function(t){return a["a"].post("XhjcOwner/XhjcOwner/addBooking",t)},getReportList:function(t){return a["a"].post("XhjcOwner/XhjcOwner/getReportList",t)},getBookingList:function(t){return a["a"].post("XhjcOwner/XhjcOwner/getBookingList",t)},getBookingInfoById:function(t){return a["a"].post("XhjcOwner/XhjcOwner/getBookingInfoById",{bill_id:t})},cancelBookingById:function(t){return a["a"].post("XhjcOwner/XhjcOwner/cancelBookingById",t)},getPayModeInfo:function(t){return a["a"].post("CarOwner/PointsDeal/getPayModeInfo",t)},cancelOrder:function(t){return a["a"].post("CarOwner/PointsDeal/cancelOrder",t)},carOwnerPay:function(t){return a["a"].post("CarOwner/PointsDeal/carOwnerPay",t)},getAdStatistics:function(t){return a["a"].post("CarOwner/UsersCenter/getAdStatistics",t)}}},fc10:function(t,e,n){"use strict";var a=n("d5c9"),o=n.n(a);o.a}}]);