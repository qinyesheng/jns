(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a9493c1e"],{"45e9":function(e,r,t){"use strict";t.r(r);var a,s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page customerInfo"},[t("background"),t("headerOne",{attrs:{title:e.$route.meta.title,isFixed:!0,backgroundStatus:!0,onClickLeftStatus:!0},on:{onClickLeft:e.back}}),t("div",{staticClass:"main-container"},[t("div",{staticClass:"info"},[e._v(e._s(e.baseInfo.carModelFullName))]),t("div",{staticClass:"from"},[t("van-field",{attrs:{label:"推荐人手机号","label-align":"right",placeholder:"请输入推荐人手机号",type:"number",clearable:"",maxlength:"11",border:!1,"error-message":e.errorMessage.referee},on:{focus:function(r){return e.refereeFocus()},input:function(r){return e.refereeInput()},blur:function(r){return e.refereeBlur()}},model:{value:e.baseInfo.referee.refereePhone,callback:function(r){e.$set(e.baseInfo.referee,"refereePhone",r)},expression:"baseInfo.referee.refereePhone"}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.refereeArrData.length>0,expression:"refereeArrData.length>0"}],staticClass:"refereePage"},[t("div",{staticClass:"refereeMain"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.refereeArrShow,expression:"refereeArrShow"}],staticClass:"refereeTitle"},[e._v("最近推荐人")]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.refereeArrHide,expression:"refereeArrHide"}],staticClass:"refereeTitle"},[e._v("匹配结果")]),e._l(e.refereeArrData,function(r,a){return t("div",{key:a,staticClass:"refereeLi",on:{click:function(t){return e.refereeClick(r)}}},[t("div",{staticClass:"refereePhone"},[e._v(e._s(r.refereePhone))]),t("div",{staticClass:"refereeName"},[e._v(e._s(r.refereeName))])])})],2)]),t("van-field",{attrs:{label:"客户姓名","label-align":"right",placeholder:"请输入客户姓名","error-message":e.errorMessage.userName,clearable:"",border:!1},on:{input:function(r){return e.inputValue("userName")}},model:{value:e.baseInfo.userName,callback:function(r){e.$set(e.baseInfo,"userName",r)},expression:"baseInfo.userName"}}),t("van-field",{attrs:{label:"手机号","label-align":"right",placeholder:"请输入手机号",type:"number",maxlength:"11",clearable:"",border:!1,"error-message":e.errorMessage.phone},on:{input:function(r){return e.inputValue("phone")}},model:{value:e.baseInfo.phone,callback:function(r){e.$set(e.baseInfo,"phone",r)},expression:"baseInfo.phone"}}),t("div",{staticClass:"carNum"},[t("div",{staticClass:"title"},[e._v("车牌号码")]),t("van-field",{attrs:{readonly:"",clickable:"",value:e.baseInfo.plateNumberP},on:{click:function(r){return e.openPop("plateNumberP")}}}),t("van-field",{attrs:{readonly:"",clickable:"",value:e.baseInfo.plateNumberC},on:{click:function(r){return e.openPop("plateNumberC")}}}),t("van-field",{attrs:{maxlength:"6",clearable:"",placeholder:"请输入车牌号码",border:!1,"error-message":e.errorMessage.plateNumber},on:{input:function(r){return e.inputValue("plateNumber")}},model:{value:e.baseInfo.plateNumber,callback:function(r){e.$set(e.baseInfo,"plateNumber",r)},expression:"baseInfo.plateNumber"}})],1),t("van-field",{attrs:{label:"公里数(km)","label-align":"right",placeholder:"请输入公里数",type:"number",maxlength:"11",clearable:"",border:!1,"error-message":e.errorMessage.tripDistance},on:{input:function(r){return e.inputValue("tripDistance")}},model:{value:e.baseInfo.tripDistance,callback:function(r){e.$set(e.baseInfo,"tripDistance",r)},expression:"baseInfo.tripDistance"}}),t("van-field",{attrs:{label:"燃油表(%)","label-align":"right",placeholder:"请输入燃油表",type:"number",clearable:"",border:!1,"error-message":e.errorMessage.fuelMeter},on:{input:function(r){return e.inputValue("fuelMeter")},blur:function(r){return e.inputValue("fuelMeter")}},nativeOn:{keydown:function(r){return e.keyDownHandle(r)}},model:{value:e.baseInfo.fuelMeter,callback:function(r){e.$set(e.baseInfo,"fuelMeter",r)},expression:"baseInfo.fuelMeter"}})],1),t("rollListSelect",{attrs:{listInfo:e.listInfo,show:e.show},on:{confirm:e.confirm,cancel:e.cancel}}),t("pubButton",{attrs:{title:"下一步",isFixed:!0},on:{buttonConfirm:function(r){return e.nextClick()}}})],1)],1)},n=[],i=(t("be7f"),t("565f")),o=t("87d9"),f=t("423e"),l=t("e62a"),c=t("7267"),h=t("24ca"),u=t("e17b");function b(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var d={components:(a={headerOne:o["a"],pubButton:l["a"],background:c["a"]},b(a,i["a"].name,i["a"]),b(a,"rollListSelect",f["a"]),a),data:function(){var e;return{checkState:!1,errorMessage:{referee:"",userName:"",phone:"",plateNumber:"",tripDistance:"",fuelMeter:""},baseInfo:(e={referee:{refereePhone:"",refereeName:""},vin:"",airAdmission:"",brandModel:"",brandModelId:"",carBrandId:"",carBrandName:"",carCc:"",carLineId:"",carLineName:"",carModelFullName:"",carModelId:"",carModelName:"",gearboxType:"",icoName:"",nianKuan:"",produceYear:"",saleName:"",dwUnit:"L",carKm:"",carStyle:"",carType:1,carYear:"",isBlockPolicy:0,isWxOpenId:0,userName:"",phone:"",plateNumber:"",plateNumberC:"A",plateNumberP:"粤"},b(e,"produceYear",""),b(e,"tripDistance",""),b(e,"fuelMeter",""),e),refereePhone:"",refereeName:"",refereeArr:[],refereeArrData:[],refereeArrShow:!1,refereeArrHide:!1,refereeVal:!1,show:!1,listInfo:[],rollListInfo:{selectType:"",plateNumberP:["粤","京","津","沪","渝","桂","宁","藏","新","浙","苏","赣","皖","闽","贵","云","鄂","湘","川","琼","鲁","晋","冀","豫","陕","甘","青","辽","吉","黑","蒙","其他"],plateNumberC:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}}},created:function(){var e=this.$local.get("baseInfo")?this.$local.get("baseInfo"):"";if(e&&this.getData(e),this.$local.get("refereeArr")){var r=this.$local.get("refereeArr");r.length>0&&(this.refereeArr=r)}},mounted:function(){var e=this;window["andClick"]=function(){e.back()}},methods:{getData:function(e){for(var r in e)this.baseInfo[r]=e[r];""==this.baseInfo.carModelFullName&&(this.baseInfo.carModelFullName=this.baseInfo.carBrandName+" "+this.baseInfo.carLineName+" "+this.baseInfo.produceYear+"款 "+parseFloat(this.baseInfo.carCc).toFixed(1)+this.baseInfo.dwUnit+" "+this.baseInfo.gearboxType)},back:function(){this.baseInfo.referee.refereePhone!=this.refereePhone&&(this.baseInfo.referee.refereeName=""),this.$session.set("backShow",2),this.$local.set("baseInfo",this.baseInfo),""!=this.leftText?this.$router.back():u["a"].back()},nextClick:function(){this.getMessageFun(),this.checkState&&(this.baseInfo.referee.refereePhone!=this.refereePhone&&(this.baseInfo.referee.refereeName=""),this.$local.set("baseInfo",this.baseInfo),this.$router.push({path:"carBodyCheckMenuIndex"}))},refereeClick:function(e){this.refereePhone=e.refereePhone,this.refereeName=e.refereeName,this.baseInfo.referee.refereePhone=e.refereePhone,this.baseInfo.referee.refereeName=e.refereeName,this.refereeArrData=[],this.refereeArrShow=!1,this.refereeArrHide=!1},refereeInput:function(){var e=this;this.errorMessage.referee="",this.refereeArr.length>0&&""==this.baseInfo.referee.refereePhone?(this.refereeArrData=this.refereeArr,this.refereeArrShow=!0,this.refereeArrHide=!1):this.baseInfo.referee.refereePhone.length>0&&(this.refereeArrData=[],this.refereeArrShow=!1,this.refereeArrHide=!1,this.baseInfo.referee.refereePhone.length>6&&h["a"].getReferee({mobile:this.baseInfo.referee.refereePhone}).then(function(r){if(2e4==r.code&&r.data&&r.data.list&&r.data.list.length>0){var t=[];r.data.list.forEach(function(e){var r={refereePhone:e.user_mobile,refereeName:e.user_name};t.push(r)}),e.refereeArrHide=!0,e.refereeArrData=t}})),this.refereeVal=!1},refereeBlur:function(){if(""==this.baseInfo.referee.refereePhone&&setTimeout(function(){this.errorMessage.referee="",this.refereeArrData=[],this.refereeArrShow=!1,this.refereeArrHide=!1},100),11==this.baseInfo.referee.refereePhone.length&&(this.refereeArrData=[]),0==this.refereeArrData.length)this.refereeVal=!0;else if(this.refereeArrData.length>0&&""!=this.baseInfo.referee.refereePhone.length){var e=this;setTimeout(function(){e.refereeVal=!0},100)}},refereeFocus:function(){this.refereeArr.length>0&&""==this.baseInfo.referee.refereePhone?(this.refereeArrData=this.refereeArr,this.refereeArrShow=!0,this.refereeArrHide=!1):""!=this.baseInfo.referee.refereePhone&&11!=this.baseInfo.referee.refereePhone.length?(this.refereeArrShow=!0,this.refereeArrHide=!1):(this.refereeArrData=[],this.refereeArrShow=!1,this.refereeArrHide=!1)},getMessageFun:function(){for(var e in this.checkState=!0,this.errorMessage)if("referee"==e)if(""!=this.baseInfo[e].refereePhone&&11!=this.baseInfo[e].refereePhone.length){if(this.checkState=!1,this.refereeVal)return this.errorMessage[e]="推荐人手机号格式不正确",!1;this.errorMessage[e]=""}else this.errorMessage[e]="";else if("userName"==e){if(""==this.baseInfo[e])return this.errorMessage[e]="客户姓名不能为空",this.checkState=!1,!1;this.errorMessage[e]=""}else if("phone"==e){if(""==this.baseInfo[e])return this.errorMessage[e]="手机号不能为空",this.checkState=!1,!1;if(11!=this.baseInfo[e].length)return this.errorMessage[e]="手机格式不正确",this.checkState=!1,!1;this.errorMessage[e]=""}else if("plateNumber"==e){if(""==this.baseInfo[e])return this.errorMessage[e]="车牌号码不能为空",this.checkState=!1,!1;if(this.baseInfo[e].length<5)return this.errorMessage[e]="车牌号码格式不正确",this.checkState=!1,!1;this.errorMessage[e]=""}else if("tripDistance"==e){if(""==this.baseInfo[e])return this.errorMessage[e]="公里数不能为空",this.checkState=!1,!1;this.errorMessage[e]=""}else if("fuelMeter"==e){if(""==this.baseInfo[e])return this.errorMessage[e]="燃油表不能为空",this.checkState=!1,!1;this.errorMessage[e]=""}},inputValue:function(e){for(var r in this.errorMessage)this.errorMessage[r]="";if("tripDistance"==e)return!1;"fuelMeter"==e&&""!=this.baseInfo[e]&&this.baseInfo[e]>100&&(this.baseInfo[e]=100)},openPop:function(e){switch(e){case"plateNumberP":this.assignmentProcess("plateNumberP");break;case"plateNumberC":this.assignmentProcess("plateNumberC");break;default:break}this.show=!0},keyDownHandle:function(e){var r=e.key;return"."!==r||(e.returnValue=!1,!1)},assignmentProcess:function(e){this.rollListInfo["selectType"]=e,this.listInfo=this.rollListInfo[e]},confirm:function(e){switch(this.rollListInfo["selectType"]){case"plateNumberP":this.baseInfo["plateNumberP"]=e;break;case"plateNumberC":this.baseInfo["plateNumberC"]=e;break;default:break}this.show=!1},cancel:function(){this.show=!1}}},p=d,m=(t("df1f"),t("2877")),g=Object(m["a"])(p,s,n,!1,null,"1e4dc6d6",null);r["default"]=g.exports},"57a1":function(e,r,t){},"60b4":function(e,r,t){},7267:function(e,r,t){"use strict";var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"page"},[t("div",{staticClass:"background",style:e.styleObject,attrs:{id:"pageBackground"}})])},s=[],n={data:function(){return{styleObject:{background:"#f2f2f2"}}},props:["background"],created:function(){},mounted:function(){this.init()},methods:{init:function(){this.background&&(this.styleObject.background=this.background)}}},i=n,o=(t("7dfe"),t("2877")),f=Object(o["a"])(i,a,s,!1,null,"76080968",null);r["a"]=f.exports},"7dfe":function(e,r,t){"use strict";var a=t("60b4"),s=t.n(a);s.a},df1f:function(e,r,t){"use strict";var a=t("57a1"),s=t.n(a);s.a}}]);