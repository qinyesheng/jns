(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d474c9f"],{"0622":function(t,e,i){"use strict";var a=i("be18"),n=i.n(a);n.a},"0c02":function(t,e,i){t.exports=i.p+"img/report_head4.abc0451a.png"},"60b4":function(t,e,i){},7267:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"background",style:t.styleObject,attrs:{id:"pageBackground"}})])},n=[],s={data:function(){return{styleObject:{background:"#f2f2f2"}}},props:["background"],created:function(){},mounted:function(){this.init()},methods:{init:function(){this.background&&(this.styleObject.background=this.background)}}},o=s,r=(i("7dfe"),i("2877")),l=Object(r["a"])(o,a,n,!1,null,"76080968",null);e["a"]=l.exports},"7dfe":function(t,e,i){"use strict";var a=i("60b4"),n=i.n(a);n.a},"80e1":function(t,e,i){},8502:function(t,e,i){},"87d9":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header-one"},[i("van-nav-bar",{class:{"clear-background":t.backgroundStatus,"border-bottom":t.isborderBottom},attrs:{"z-index":999,fixed:t.isFixed,border:!0,title:t.title,"left-text":t.leftText,"right-text":t.rightText,"left-arrow":t.leftArrow},on:{"click-left":function(e){return t.onClickLeft()},"click-right":t.onClickRight}},["icon"==t.rightText?i("van-icon",{staticClass:"icon-right",attrs:{slot:"right",color:"#000",name:t.iconName},slot:"right"}):t._e()],1),i("van-row",{class:{"header-fixed-margin":t.isFixed,"header-fixed-margin-hide":!t.isFixed}})],1)},n=[],s=(i("c3a6"),i("ad06")),o=(i("68ef"),i("8a0b"),i("2638")),r=i.n(o),l=i("a142"),c=i("ba31"),u=Object(l["j"])("nav-bar"),d=u[0],f=u[1];function h(t,e,i,a){return t("div",r()([{class:[f({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(c["b"])(a)]),[t("div",{class:f("left"),on:{click:a.listeners["click-left"]||l["h"]}},[i.left?i.left():[e.leftArrow&&t(s["a"],{class:f("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:f("text")},[e.leftText])]]),t("div",{class:[f("title"),"van-ellipsis"]},[i.title?i.title():e.title]),t("div",{class:f("right"),on:{click:a.listeners["click-right"]||l["h"]}},[i.right?i.right():e.rightText&&t("span",{class:f("text")},[e.rightText])])])}h.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}};var p,m=d(h),b=i("9ef6");function v(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var g={name:"HeaderOne",data:function(){return{}},components:(p={},v(p,m.name,m),v(p,s["a"].name,s["a"]),p),props:{title:{type:String,default:""},isFixed:{type:Boolean,default:!1},backgroundStatus:{type:Boolean,default:!1},leftText:{type:String,default:""},rightText:{type:String,default:""},leftArrow:{type:Boolean,default:!0},onClickLeftStatus:{type:Boolean,default:!1},isborderBottom:{type:Boolean,default:!1},iconName:{type:String,default:"share"}},mounted:function(){},methods:{onClickLeft:function(){this.onClickLeftStatus?this.$emit("onClickLeft"):b["a"].handle()},onClickRight:function(){this.$emit("onClickRight")}}},k=g,x=(i("0622"),i("2877")),C=Object(x["a"])(k,a,n,!1,null,null,null);e["a"]=C.exports},"8a0b":function(t,e,i){},"8aef":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("headerOne",{attrs:{title:"报告详情",isFixed:!0,backgroundStatus:!0,rightText:this.qrCodeLink?"分享":"",onClickLeftStatus:t.onClickLeftStatus},on:{onClickRight:t.reportShare,onClickLeft:t.back}}),i("div",{staticClass:"main-container"},[t.report.base_info&&"1"==t.reportPay?i("tailAiDiagnosisReport",{attrs:{report:t.report,makeResultText:t.makeResultText,maintainSchemeText:t.maintainSchemeText}}):t._e(),"0"==t.reportPay?i("div",{staticClass:"noPay"},[t._v("报告暂未生成，请稍后查看。")]):t._e(),this.qrCodeLink?i("qrCodeReport",{attrs:{qrCodeLink:t.qrCodeLink,isFixed:!0,isPost:t.isPost},on:{postConfirm:t.postConfirm}}):t._e()],1)],1)},n=[],s=i("87d9"),o=i("e17b"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},["0"==t.isPost||"2"==t.isPost?i("van-button",{ref:"buttonSelector",class:t.PostClassName,attrs:{"native-type":"button",type:"info",size:"large",block:!0,disabled:t.disabledStatus},on:{click:t.postConfirm}},[t._v("提交合格证")]):t._e(),i("van-button",{ref:"buttonSelector",class:t.isPost?"qrCodeBtn":"vanBtn",attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.qrCodeView}},[t._v("查看二维码")])],1),i("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed}),i("van-popup",{staticClass:"qr-code-canvas-popup",attrs:{"lazy-render":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[i("canvas",{directives:[{name:"show",rawName:"v-show",value:1==t.show,expression:"show==true"}],staticClass:"qr-code-canvas",attrs:{id:"qrCodeCanvas"}})])],1)])},l=[],c=i("d055"),u=i.n(c),d={name:"qrCodeReport",data:function(){return{show:!1,PostClassName:"",styleButtonFixed:{height:"20px"},disabledStatus:!1}},props:{qrCodeLink:{type:String,default:""},isFixed:{type:Boolean,default:!1},isPost:{type:String,default:!1}},mounted:function(){this.useQrcode(),"0"==this.isPost?(this.PostClassName="postBtn",this.disabledStatus=!1):"2"==this.isPost?(this.PostClassName="postBtn1",this.disabledStatus=!0):this.PostClassName=""},methods:{qrCodeView:function(){this.show?this.show=!1:this.show=!0},useQrcode:function(){var t=this,e=document.getElementById("qrCodeCanvas");u.a.toCanvas(e,t.qrCodeLink||"",{width:180,margin:1},function(t){})},postConfirm:function(){this.$emit("postConfirm")}}},f=d,h=(i("a50b"),i("2877")),p=Object(h["a"])(f,r,l,!1,null,"59739efc",null),m=p.exports,b=i("a7f8"),v=i("a801"),g=i("5f87"),k=i("cf45"),x=(i("9ef6"),{components:{headerOne:s["a"],qrCodeReport:m,tailAiDiagnosisReport:v["a"]},data:function(){return{billId:"",headerTitle:"",data:{},report:{},baseInfo:{},qrCodeLink:"",onClickLeftStatus:!1,makeResultText:"",maintainSchemeText:"",reportPay:"",isPost:!0}},created:function(){},mounted:function(){var t=this.$route.query;if(t&&(this.billId=t.billId,this.billId&&this.getReportByBillIdV2(this.billId),t.jnsAppStep&&"J007_report"==t.jnsAppStep)){var e=this;e.onClickLeftStatus=!0,o["a"].androidCallback().cover(function(){e.back()})}},methods:{getReportByBillIdV2:function(t){var e=this;b["a"].getReportByBillIdV2(t).then(function(t){if(2e4==t.code){var i=t.data.report,a=i.check_result_info.make_result,n=i.maintain_scheme.length;e.report=i,e.baseInfo=i.base_info,e.isPost=t.data.certificate_status,e.qrCodeLink=i.ownerReportUrl,e.reportPay=t.data.report_status,a||(e.makeResultText="暂未发现异常情况"),0==n&&(e.maintainSchemeText="暂无维修方案")}})},postConfirm:function(){this.$router.push({name:"tailPost",query:{bill_id:this.billId}})},reportShare:function(){var t={bill_id:this.billId,shareUrl:this.qrCodeLink,bill_type:"J007",title:this.report.title,subtitle:this.baseInfo.car_model_full_name,sms:1,logo:Object(k["e"])(this.baseInfo.car_icon)};o["a"].h5ToApp("share",t)},back:function(){var t={token:Object(g["b"])(),status:Object(g["a"])(),jnsAppStep:"J007_list"};this.$router.push({name:"appToH5",query:t})}}}),C=x,_=(i("97e5"),Object(h["a"])(C,a,n,!1,null,"ca73d7bc",null));e["default"]=_.exports},"95f2":function(t,e,i){},"97e5":function(t,e,i){"use strict";var a=i("8502"),n=i.n(a);n.a},a50b:function(t,e,i){"use strict";var a=i("80e1"),n=i.n(a);n.a},a7f8:function(t,e,i){"use strict";var a=i("b775");e["a"]={getBillDetail:function(t){return a["a"].post("/Bill/Report/getReportByJ005",{billId:t})},getReportByBillIdV2:function(t){return a["a"].post("/Bill/Report/getReportByBillIdV2",{billId:t})},getReportByBillIdV3:function(t){return a["a"].post("/Bill/Report/getReportByBillIdV3",{bill_id:t})},getReportByBillId:function(t){return a["a"].post("/Bill/Report/getReportByBillId",t)}}},a801:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("background"),a("div",{staticClass:"main-container"},[a("div",{staticClass:"container-head"},[a("div",{staticClass:"container-head-top"},[a("img",{attrs:{src:i("0c02")},on:{click:function(t){t.preventDefault()}}})])]),a("reportBaseInfo",{attrs:{baseInfo:t.report.base_info}}),a("reportResultList",{attrs:{title:"检测与诊断结果",makeResult:t.makeResult}}),t.makeResultText?a("div",{staticClass:"none-result-list"},[t._m(0),a("p",[t._v(t._s(t.makeResultText))])]):t._e(),t.report.maintain_scheme.length?a("reportMaintainScheme",{attrs:{maintainScheme:t.maintainScheme,selectBtnName:t.selectBtnName,qualityStatus:"multiple"},on:{selectMaintainScheme:t.selectMaintainScheme}}):t._e(),t.maintainSchemeText?a("div",{staticClass:"none-maintain-scheme-list"},[t._m(1),a("P",[t._v(t._s(t.maintainSchemeText))])],1):t._e()],1)],1)},n=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h4",[i("b",[t._v("检测与诊断结果")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h4",[i("b",[t._v("维修方式")])])}],s=i("7267"),o=i("0894"),r=i("1213"),l=i("f733"),c={props:{report:Object,makeResultText:{type:String,default:""},maintainSchemeText:{type:String,default:""}},components:{reportResultList:r["a"],reportBaseInfo:o["a"],reportMaintainScheme:l["a"],background:s["a"]},data:function(){return{makeResult:"",maintainScheme:"",activeIndex:0,selectBtnName:[],maintainSchemeLength:""}},created:function(){var t=this.report.check_result_info.make_result;t&&!this.makeResultText&&(this.makeResult=t),this.report.maintain_scheme.length&&this.selectMaintainScheme(0)},mounted:function(){this.selectBtnName=this.maintainSchemeLength>1?["维修方式一","维修方式二"]:[]},methods:{selectMaintainScheme:function(t){this.activeIndex=t;var e=this.report.maintain_scheme.length;this.maintainSchemeLength=e,e-1>=t&&(this.maintainScheme=JSON.parse(JSON.stringify(this.report.maintain_scheme[t])),this.maintainScheme.quality_list||(this.maintainScheme.quality_list=[]))}}},u=c,d=(i("e610"),i("2877")),f=Object(d["a"])(u,a,n,!1,null,"faa7af36",null);e["a"]=f.exports},be18:function(t,e,i){},e610:function(t,e,i){"use strict";var a=i("95f2"),n=i.n(a);n.a}}]);