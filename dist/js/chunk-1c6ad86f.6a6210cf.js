(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c6ad86f"],{"1b10":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}}},4227:function(t,e,n){},4699:function(t,e,n){"use strict";var i=n("4227"),s=n.n(i);s.a},"5ee1":function(t,e,n){"use strict";n.r(e);var i,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"main-container"},[n("van-row",[n("van-col",{attrs:{span:"24"}},[t._v("预约站点")]),n("van-col",{attrs:{span:"24"}},[n("van-cell-group",{attrs:{border:!1}},[n("van-field",{attrs:{clearable:"",readonly:!0,value:this.orgInfo.depart_name,placeholder:this.orgInfo.depart_name,border:!1}})],1)],1)],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[t._v("\n                客户名称\n                "),n("span",{staticClass:"required"},[t._v("*")])]),n("van-col",{attrs:{span:"24"}},[n("van-cell-group",[n("van-field",{staticClass:"apt-guest-info",attrs:{clearable:"",placeholder:"请输入客户名称"},model:{value:t.guestInfo.name,callback:function(e){t.$set(t.guestInfo,"name",e)},expression:"guestInfo.name"}},t._l(t.nameList,function(e,i){return n("van-button",{key:i,staticClass:"apt-guest-info-name",class:t.checkName==e.value?"nameActive":"",attrs:{slot:"button",size:"small",plain:"",hairline:"",type:"default"},on:{click:function(n){return t.nameActive(e.value)}},slot:"button"},[t._v(t._s(e.name))])}),1)],1)],1)],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[t._v("\n                手机号\n                "),n("span",{staticClass:"required"},[t._v("*")])]),n("van-col",{attrs:{span:"24"}},[n("van-cell-group",[n("van-field",{staticClass:"apt-guest-info",attrs:{clearable:"",placeholder:"请输入手机号",maxlength:"11",type:"number"},model:{value:t.guestInfo.phone,callback:function(e){t.$set(t.guestInfo,"phone",e)},expression:"guestInfo.phone"}})],1)],1)],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[t._v("预约到店时间")]),n("van-col",{attrs:{span:"24"}},[n("van-cell-group",[n("van-field",{staticClass:"apt-guest-info",attrs:{readonly:!0,placeholder:"请选择预约到店时间"},on:{click:t.showTimeHandle},model:{value:t.guestInfo.aptTimeDesc,callback:function(e){t.$set(t.guestInfo,"aptTimeDesc",e)},expression:"guestInfo.aptTimeDesc"}})],1)],1)],1),n("van-row",[n("van-col",{attrs:{span:"24"}},[t._v("备注")]),n("van-col",{attrs:{span:"24"}},[n("van-cell-group",[n("van-field",{staticClass:"apt-guest-info",attrs:{placeholder:"请输入备注",type:"textarea",rows:"3",autosize:""},model:{value:t.guestInfo.desc,callback:function(e){t.$set(t.guestInfo,"desc",e)},expression:"guestInfo.desc"}})],1)],1)],1),n("pubButton",{attrs:{background:"#e14732",title:"确定"},on:{buttonConfirm:t.appointment}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.showTime,callback:function(e){t.showTime=e},expression:"showTime"}},[n("van-picker",{attrs:{columns:t.columns,"show-toolbar":"",title:"预约到店时间"},on:{change:t.onChange,cancel:t.cancelChoiceTime,confirm:t.confirmChoiceTime}})],1)],1)},o=[],a=(n("5f5f"),n("f253")),r=(n("be7f"),n("565f")),u=(n("5573"),n("e62a")),c=n("f7b2");function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={data:function(){return l({shopOpenId:"",orgInfo:{},orgBanner:[],checkName:"man",currentDate:"",nameList:[{name:"先生",value:"man"},{name:"女士",value:"women"}],guestInfo:{name:"",phone:"",aptTime:"",desc:"",aptTimeDesc:"",org_id:"",arrivalTimeStart:"",arrivalTimeEnd:""},showTime:!1,showMenuStatus:!1,columns:[]},"orgInfo",{})},components:(i={pubButton:u["a"]},l(i,r["a"].name,r["a"]),l(i,a["a"].name,a["a"]),i),created:function(){this.init()},mounted:function(){},methods:{init:function(){this.orgInfo=this.$session.get("orgInfo");var t=this.getTimeData(),e=Object.keys(t);this.columns=[{values:e,className:"column1"},{values:t[e[0]].childs,className:"column2",defaultIndex:0}]},appointment:function(){var t=this;if(!this.guestInfo.name)return this.$toast("请填写客户名称"),!1;if(!this.guestInfo.phone)return this.$toast("请填写手机号"),!1;for(var e="",n=0;n<this.nameList.length;n++)this.nameList[n].value==this.checkName&&(e=this.nameList[n].name);var i=this.guestInfo.name+e,s={arrival_time_start:this.guestInfo.arrivalTimeStart,arrival_time_end:this.guestInfo.arrivalTimeEnd,customer_phone:this.guestInfo.phone,customer_name:i,map_org_id:this.orgInfo.map_org_id,comment:this.guestInfo.desc};c["a"].addBooking(s).then(function(e){2e4==e.code?(t.$toast.success({duration:500,message:"预约成功"}),t.$session.set("orderActive",!0),t.$session.set("routerActive",1),t.$router.push({path:"menuIndex/order"})):t.$toast(e.msg)})},nameActive:function(t){this.checkName=t},showTimeHandle:function(){this.showTime=!0},getTimeData:function(){var t={},e=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],n=new Date,i=n.getHours(),s=0;i>15&&(s=1);for(var o=0+s;o<30+s;o++){var a=new Date,r=new Date(a);r.setDate(a.getDate()+o);var u=r.getFullYear(),c=r.getMonth()+1;c<10&&(c="0"+c);var l=r.getDate();l<10&&(l="0"+l);var h=r.getDay(),f=e[h],d=9,m={id:o,getFullYear:u,getMonth:c,getDate:l,arrival_time_start:u+"-"+c+"-"+l,arrival_time_end:u+"-"+c+"-"+l,value:c+"-"+l+" "+f,childs:[]};t[m.value]={},m.childs=[],0==o&&i>9&&(d=i);for(var p=d;p<16;p++){var g=(9!=p?p:"09")+":00~"+(p+1)+":00";m.childs.push(g)}t[m.value]=m}return t},onChange:function(t,e){var n=this.getTimeData();t.setColumnValues(1,n[e[0]].childs)},cancelChoiceTime:function(){this.showTime=!1},confirmChoiceTime:function(t){var e=this.getTimeData(),n=t[1].split("~");this.guestInfo.arrivalTimeStart=e[t[0]].arrival_time_start+" "+n[0],this.guestInfo.arrivalTimeEnd=e[t[0]].arrival_time_end+" "+n[1],this.showTime=!1,this.guestInfo.aptTimeDesc=t[0]+" "+t[1]},showMenu:function(){this.showMenuStatus=!0}}},f=h,d=(n("4699"),n("2877")),m=Object(d["a"])(f,s,o,!1,null,"86279860",null);e["default"]=m.exports},"5f5f":function(t,e,n){"use strict";n("68ef"),n("a526")},a526:function(t,e,n){},be7f:function(t,e,n){"use strict";n("68ef"),n("1146")},d5c9:function(t,e,n){},e62a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showStatus,expression:"showStatus"}],ref:"buttonSelector",style:t.styleButton,attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.buttonConfirm}},[t._v(t._s(t.title))])],1),n("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed})],1)},s=[];function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{showStatus:!0,styleButton:{},styleButtonFixed:{}}},props:{title:{type:String,default:""},background:{type:String,default:"#46aef7"},isFixed:{type:Boolean,default:!0},textColor:{type:String,default:"#fff"}},created:function(){},mounted:function(){this.init(),this.screenSizeControl(),this.styleButtonHandle()},methods:{init:function(){var t=this.$refs.buttonSelector.offsetHeight+10;this.styleButtonFixed={height:t+"px"}},buttonConfirm:function(){this.$emit("buttonConfirm")},screenSizeControl:function(){var t=this,e=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var n=document.documentElement.clientHeight||document.body.clientHeight,i=e-n;t.showStatus=!(n<e&&i>100)}},styleButtonHandle:function(){this.styleButton={"background-color":this.background,border:"1px solid"+this.background,color:this.textColor}}},watch:{background:function(t,e){var n={"background-color":t,border:"1px solid"+t};this.styleButton=a({},this.styleButton,{},n)}}},c=u,l=(n("fc10"),n("2877")),h=Object(l["a"])(c,i,s,!1,null,"68d620b5",null);e["a"]=h.exports},f253:function(t,e,n){"use strict";var i=n("1988"),s=n("a142"),o=n("db78"),a=n("1128");function r(t){return Array.isArray(t)?t.map(function(t){return r(t)}):"object"===typeof t?Object(a["a"])({},t):t}var u=n("1b10"),c=n("543e"),l=200,h=Object(s["j"])("picker-column"),f=h[0],d=h[1],m=f({props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,initialOptions:Array,visibleItemCount:Number},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:r(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){Object(o["c"])(t);var e=t.touches[0].clientY-this.startY;this.offset=Object(s["i"])(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=l;var t=Object(s["i"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){t=Object(s["i"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!this.isDisabled(this.options[n]))return n},isDisabled:function(t){return Object(s["f"])(t)&&t.disabled},getOptionText:function(t){return Object(s["f"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]}},render:function(t){var e=this,n=this.itemHeight,i=this.visibleItemCount,s={height:n*i+"px"},o=n*(i-1)/2,a={transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+o)+"px, 0)",lineHeight:n+"px"},r={height:n+"px"};return t("div",{style:s,class:[d(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("ul",{style:a},[this.options.map(function(n,i){return t("li",{style:r,class:["van-ellipsis",d("item",{disabled:e.isDisabled(n),selected:i===e.currentIndex})],domProps:{innerHTML:e.getOptionText(n)},on:{click:function(){e.setIndex(i,!0)}}})})])])}}),p=Object(s["j"])("picker"),g=p[0],v=p[1],b=p[2];e["a"]=g({props:Object(i["a"])({},u["a"],{columns:Array,defaultIndex:{type:Number,default:0},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,n){t.setColumnValues(n,r(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})},onConfirm:function(){this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var e=this,n=this.itemHeight,i=this.simple?[this.columns]:this.columns,s={height:n+"px"},a={height:n*this.visibleItemCount+"px"},r=this.showToolbar&&t("div",{class:["van-hairline--top-bottom",v("toolbar")]},[this.slots()||[t("div",{class:v("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||b("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",v("title")]},[this.title]),t("div",{class:v("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||b("confirm")])]]);return t("div",{class:v()},[r,this.loading?t("div",{class:v("loading")},[t(c["a"])]):t(),t("div",{class:v("columns"),style:a,on:{touchmove:o["c"]}},[i.map(function(n,i){return t(m,{attrs:{valueKey:e.valueKey,className:n.className,itemHeight:e.itemHeight,defaultIndex:n.defaultIndex||e.defaultIndex,visibleItemCount:e.visibleItemCount,initialOptions:e.simple?n:n.values},on:{change:function(){e.onChange(i)}}})}),t("div",{class:["van-hairline--top-bottom",v("frame")],style:s})])])}})},f7b2:function(t,e,n){"use strict";var i=n("b775");e["a"]={addBooking:function(t){return i["a"].post("XhjcOwner/XhjcOwner/addBooking",t)},getReportList:function(t){return i["a"].post("XhjcOwner/XhjcOwner/getReportList",t)},getBookingList:function(t){return i["a"].post("XhjcOwner/XhjcOwner/getBookingList",t)},getBookingInfoById:function(t){return i["a"].post("XhjcOwner/XhjcOwner/getBookingInfoById",{bill_id:t})},cancelBookingById:function(t){return i["a"].post("XhjcOwner/XhjcOwner/cancelBookingById",t)},getPayModeInfo:function(t){return i["a"].post("CarOwner/PointsDeal/getPayModeInfo",t)},cancelOrder:function(t){return i["a"].post("CarOwner/PointsDeal/cancelOrder",t)},carOwnerPay:function(t){return i["a"].post("CarOwner/PointsDeal/carOwnerPay",t)},getAdStatistics:function(t){return i["a"].post("CarOwner/UsersCenter/getAdStatistics",t)}}},fc10:function(t,e,n){"use strict";var i=n("d5c9"),s=n.n(i);s.a}}]);