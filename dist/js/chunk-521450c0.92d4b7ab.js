(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-521450c0"],{"0622":function(t,e,n){"use strict";var i=n("be18"),a=n.n(i);a.a},1146:function(t,e,n){},"1b10":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={title:String,loading:Boolean,showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,visibleItemCount:{type:Number,default:5},itemHeight:{type:Number,default:44}}},"24ca":function(t,e,n){"use strict";var i=n("b775");e["a"]={saveCreateDiagnosesBill:function(t){return i["a"].post("/Bill/createNew/saveCreateDiagnosesBill",t)},saveCreateBillJ007:function(t){return i["a"].post("/Bill/createNew/saveCreateBillJ007",t)},getCreateNew:function(t){return i["a"].post("/Bill/CreateNew",t)},getFaultPhenomenon:function(t){return i["a"].post("/Bill/CreateNew/getFaultPhenomenon",t)},addFaultPhenomenon:function(t){return i["a"].post("/Bill/CreateNew/addFaultPhenomenon",t)},checkRestrict:function(t){return i["a"].post("/Bill/CreateNew/checkRestrict",t)},checkCustomer:function(t){return i["a"].post("/Bill/CreateNew/checkCustomer",t)},getCarInfoByVin:function(t){return i["a"].post("/Bill/CreateNew/getCarInfoByVin",t)},getBillDetail:function(t){return i["a"].post("/Bill/Undisposed/getBillDetail",t)},getReferee:function(t){return i["a"].post("/Common/Bill/getReferee",t)},getReportPriceByBillType:function(t){return i["a"].post("/Common/Bill/getReportPriceByBillType",t)},addBillType:function(t){return i["a"].post("/Bill/CreateNew/addBillType",t)},delBillType:function(t){return i["a"].post("/Bill/Undisposed/delBillType",t)},saveCreateBill:function(t){return i["a"].post("/Bill/createNew/saveCreateBill",t)},saveConsulting:function(t){return i["a"].post("/Bill/Undisposed/saveConsulting",t)},getCarConditionByVin:function(t){return i["a"].post("/Bill/Report/getCarConditionByVin",t)},getNowOilList:function(t){return i["a"].post("/Common/InitialSurveyData/getNowOilList",t)}}},"565f":function(t,e,n){"use strict";var i=n("2638"),a=n.n(i),r=n("1988"),s=n("ad06"),o=n("7744"),l=n("dfaf"),c=n("a142"),u=n("db78"),h=n("023d");function f(t){return/^\d+$/.test(t)}var d=Object(c["j"])("field"),b=d[0],p=d[1];e["a"]=b({inheritAttrs:!1,props:Object(r["a"])({},l["a"],{error:Boolean,leftIcon:String,rightIcon:String,readonly:Boolean,clearable:Boolean,labelWidth:[String,Number],labelAlign:String,inputAlign:String,onIconClick:Function,autosize:[Boolean,Object],errorMessage:String,errorMessageAlign:String,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(c["c"])(this.value)&&!this.readonly},listeners:function(){return Object(r["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur})},labelStyle:function(){var t=this.labelWidth;if(t){var e=f(String(t))?t+"px":t;return{maxWidth:e,minWidth:e}}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){void 0===t&&(t=this.$refs.input);var e=t,n=e.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(c["c"])(i)&&n.length>i&&(n=n.slice(0,i),t.value=n),n},onInput:function(t){this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(c["d"])()&&window.scrollTo(0,Object(h["b"])())},onClickLeftIcon:function(){this.$emit("click-left-icon")},onClickRightIcon:function(){this.$emit("click-icon"),this.$emit("click-right-icon"),this.onIconClick&&this.onIconClick()},onClear:function(t){Object(u["c"])(t),this.$emit("input",""),this.$emit("clear")},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,n=-1===String(this.value).indexOf("."),i=e>=48&&e<=57||46===e&&n||45===e;i||Object(u["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(c["f"])(this.autosize)){var n=this.autosize,i=n.maxHeight,a=n.minHeight;i&&(e=Math.min(e,i)),a&&(e=Math.max(e,a))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e={ref:"input",class:p("control",this.inputAlign),domProps:{value:this.value},attrs:Object(r["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners};return"textarea"===this.type?t("textarea",a()([{},e])):t("input",a()([{attrs:{type:this.type}},e]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:p("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(s["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,n=e("right-icon")||e("icon")||this.rightIcon||this.icon;if(n)return t("div",{class:p("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||e("icon")||t(s["a"],{attrs:{name:this.rightIcon||this.icon}})])}},render:function(t){var e,n=this.slots,i=this.labelAlign,a={icon:this.renderLeftIcon};return n("label")&&(a.title=function(){return n("label")}),t(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,titleStyle:this.labelStyle,titleClass:p("label",i)},class:p((e={error:this.error,disabled:this.$attrs.disabled},e["label-"+i]=i,e["min-height"]="textarea"===this.type&&!this.autosize,e)),scopedSlots:a},[t("div",{class:p("body")},[this.renderInput(),this.showClear&&t(s["a"],{attrs:{name:"clear"},class:p("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),n("button")&&t("div",{class:p("button")},[n("button")])]),this.errorMessage&&t("div",{class:p("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"5f5f":function(t,e,n){"use strict";n("68ef"),n("a526")},"60b4":function(t,e,n){},7267:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"background",style:t.styleObject,attrs:{id:"pageBackground"}})])},a=[],r={data:function(){return{styleObject:{background:"#f2f2f2"}}},props:["background"],created:function(){},mounted:function(){this.init()},methods:{init:function(){this.background&&(this.styleObject.background=this.background)}}},s=r,o=(n("7dfe"),n("2877")),l=Object(o["a"])(s,i,a,!1,null,"76080968",null);e["a"]=l.exports},"7dfe":function(t,e,n){"use strict";var i=n("60b4"),a=n.n(i);a.a},"87d9":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-one"},[n("van-nav-bar",{class:{"clear-background":t.backgroundStatus,"border-bottom":t.isborderBottom},attrs:{"z-index":999,fixed:t.isFixed,border:!0,title:t.title,"left-text":t.leftText,"right-text":t.rightText,"left-arrow":t.leftArrow},on:{"click-left":function(e){return t.onClickLeft()},"click-right":t.onClickRight}},["icon"==t.rightText?n("van-icon",{staticClass:"icon-right",attrs:{slot:"right",color:"#000",name:t.iconName},slot:"right"}):t._e()],1),n("van-row",{class:{"header-fixed-margin":t.isFixed,"header-fixed-margin-hide":!t.isFixed}})],1)},a=[],r=(n("c3a6"),n("ad06")),s=(n("68ef"),n("8a0b"),n("2638")),o=n.n(s),l=n("a142"),c=n("ba31"),u=Object(l["j"])("nav-bar"),h=u[0],f=u[1];function d(t,e,n,i){return t("div",o()([{class:[f({fixed:e.fixed}),{"van-hairline--bottom":e.border}],style:{zIndex:e.zIndex}},Object(c["b"])(i)]),[t("div",{class:f("left"),on:{click:i.listeners["click-left"]||l["h"]}},[n.left?n.left():[e.leftArrow&&t(r["a"],{class:f("arrow"),attrs:{name:"arrow-left"}}),e.leftText&&t("span",{class:f("text")},[e.leftText])]]),t("div",{class:[f("title"),"van-ellipsis"]},[n.title?n.title():e.title]),t("div",{class:f("right"),on:{click:i.listeners["click-right"]||l["h"]}},[n.right?n.right():e.rightText&&t("span",{class:f("text")},[e.rightText])])])}d.props={title:String,fixed:Boolean,leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0},zIndex:{type:Number,default:1}};var b,p=h(d),m=n("9ef6");function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={name:"HeaderOne",data:function(){return{}},components:(b={},g(b,p.name,p),g(b,r["a"].name,r["a"]),b),props:{title:{type:String,default:""},isFixed:{type:Boolean,default:!1},backgroundStatus:{type:Boolean,default:!1},leftText:{type:String,default:""},rightText:{type:String,default:""},leftArrow:{type:Boolean,default:!0},onClickLeftStatus:{type:Boolean,default:!1},isborderBottom:{type:Boolean,default:!1},iconName:{type:String,default:"share"}},mounted:function(){},methods:{onClickLeft:function(){this.onClickLeftStatus?this.$emit("onClickLeft"):m["a"].handle()},onClickRight:function(){this.$emit("onClickRight")}}},v=y,I=(n("0622"),n("2877")),C=Object(I["a"])(v,i,a,!1,null,null,null);e["a"]=C.exports},"8a0b":function(t,e,n){},"9e97":function(t,e,n){"use strict";var i=n("c9c0"),a=n.n(i);a.a},a526:function(t,e,n){},b775:function(t,e,n){"use strict";n("e7e5");var i=n("d399"),a=n("bc3a"),r=n.n(a),s=n("4328"),o=n.n(s),l=n("e17b"),c=n("5f87"),u=n("cf45"),h=r.a.create({baseURL:"https://api.wanguoqiche.com",timeout:5e3,headers:{"Content-Type":"application/x-www-form-urlencoded"},transformRequest:[function(t){return t=o.a.stringify(t),t}]}),f={handle:function(t){Object(u["j"])()||!Object(c["a"])()?t&&t():setTimeout(function(){l["a"].backHome()},1e3)},40500:function(t){Object(i["a"])({type:"fail",message:t,duration:1e3}),this.handle()},40300:function(t){Object(i["a"])({type:"fail",message:t,duration:1e3}),this.handle()},40600:function(t){Object(i["a"])({type:"fail",message:t,duration:1e3}),this.handle()},40100:function(t){Object(i["a"])({type:"fail",message:t,duration:1e3}),setTimeout(function(){if(Object(c["b"])()&&Object(c["d"])(),Object(u["j"])())return location.reload(),!0;l["a"].jumpLogin()},1e3)},40400:function(t){Object(i["a"])({type:"fail",message:t,duration:1e3})},40000:function(){return!0}};h.interceptors.request.use(function(t){return void 0===t.data&&(t.data={}),t.data.token=Object(c["b"])(),t},function(t){return Promise.reject(t).catch(function(t){return t})}),h.interceptors.response.use(function(t){var e=t.data;return 2e4!==e.code?(f[e.code]&&f[e.code](e.msg),Promise.reject(e).catch(function(t){return t})):e},function(t){return Object(i["a"])({type:"fail",message:t.message}),Promise.reject(t).catch(function(t){return t})}),e["a"]=h},be18:function(t,e,n){},be7f:function(t,e,n){"use strict";n("68ef"),n("1146")},c9c0:function(t,e,n){},d1cf:function(t,e,n){"use strict";n("68ef"),n("a526")},d2d3:function(t,e,n){"use strict";n.r(e);var i,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.pageShow,expression:"pageShow"}],staticClass:"page carModelInfo"},[n("background"),n("headerOne",{attrs:{title:t.title,isFixed:!0,backgroundStatus:!0,onClickLeftStatus:!0},on:{onClickLeft:t.back}}),n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isShow,expression:"isShow==1"}],staticClass:"main-container"},[n("div",{staticClass:"from"},[n("van-field",{attrs:{label:"车架号","label-align":"right",placeholder:t.baseInfo.vin?t.baseInfo.vin:"请输入车架号",readonly:"",border:!1,"error-message":t.errorMessage.vin},model:{value:t.baseInfo.vin,callback:function(e){t.$set(t.baseInfo,"vin",e)},expression:"baseInfo.vin"}}),n("van-field",{attrs:{label:"车系车型","label-align":"right",placeholder:t.baseInfo.carBrandName?t.baseInfo.carBrandName+" "+t.baseInfo.carLineName:"请选择车系车型",value:t.baseInfo.carBrandName+t.baseInfo.carLineName,readonly:"","is-link":"",border:!1,"error-message":t.errorMessage.carLineName},on:{click:t.carBrandShow}}),n("van-field",{staticClass:"cc",attrs:{type:"number",label:"排量","label-align":"right",placeholder:t.baseInfo.carCc?t.baseInfo.carCc:"请输入排量",border:!1,clearable:"","error-message":t.errorMessage.carCc},on:{input:function(e){return t.notNull("carCc","排量")},blur:function(e){return t.notNull("carCc","排量")}},model:{value:t.baseInfo.carCc,callback:function(e){t.$set(t.baseInfo,"carCc",e)},expression:"baseInfo.carCc"}},[n("van-button",{staticClass:"left",class:0==t.ccState?"blue":"",attrs:{slot:"button",size:"small"},on:{click:function(e){return t.ccUpType("L")}},slot:"button"},[t._v("L")]),n("van-button",{staticClass:"right",class:1==t.ccState?"blue":"",attrs:{slot:"button",size:"small"},on:{click:function(e){return t.ccUpType("T")}},slot:"button"},[t._v("T")])],1),n("van-field",{attrs:{label:"年款","label-align":"right",placeholder:t.baseInfo.nianKuan?t.baseInfo.nianKuan:"请选择年款",readonly:"","is-link":"",border:!1,"error-message":t.errorMessage.nianKuan},on:{click:t.selectDateTime},model:{value:t.baseInfo.nianKuan,callback:function(e){t.$set(t.baseInfo,"nianKuan",e)},expression:"baseInfo.nianKuan"}}),n("van-field",{attrs:{label:"变速箱","label-align":"right",placeholder:t.baseInfo.gearboxType?t.baseInfo.gearboxType:"请选择变速箱",border:!1,"error-message":t.errorMessage.gearboxType},on:{click:t.showGearboxTypeHandle},model:{value:t.baseInfo.gearboxType,callback:function(e){t.$set(t.baseInfo,"gearboxType",e)},expression:"baseInfo.gearboxType"}})],1),n("pubButton",{attrs:{title:"下一步",isFixed:!0},on:{buttonConfirm:function(e){return t.errorMessageData()}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.isShow,expression:"isShow == 2"}],staticClass:"carBrand"},[n("selectCar",{attrs:{carBrandId:t.tmpCarBrand.carBrandId},on:{carBrandConfirm:t.carBrandConfirm}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:3==t.isShow,expression:"isShow == 3"}],staticClass:"carLine"},[n("selectCarLine",{attrs:{carBrandId:t.tmpCarBrand.carBrandId,carBrandName:t.tmpCarBrand.carBrandName,carLineId:t.baseInfo.carLineId},on:{carLineConfirm:t.carLineConfirm}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:5==t.isShow,expression:"isShow == 5"}],staticClass:"gearboxType"},[n("gearboxType",{attrs:{title:"请选择变速箱",checked:t.baseInfo.gearboxType},on:{gearboxTypeConfirm:t.gearboxTypeConfirm}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.carStyleShow,callback:function(e){t.carStyleShow=e},expression:"carStyleShow"}},[n("van-picker",{attrs:{"show-toolbar":"",title:"选择年款","default-index":t.yearIndex,columns:t.currentDate},on:{cancel:t.onCancel,confirm:t.onConfirm}})],1)],1)},r=[],s=(n("5f5f"),n("f253")),o=(n("d1cf"),n("ee83")),l=(n("be7f"),n("565f")),c=n("87d9"),u=n("e62a"),h=n("24ca"),f=n("e17b"),d=n("7267"),b=n("cf45");function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){return n.e("chunk-7e95e83f").then(n.bind(null,"b3bb"))},g=function(){return n.e("chunk-0f778515").then(n.bind(null,"8442"))},y=function(){return n.e("chunk-016d615f").then(n.bind(null,"2c27"))},v={components:(i={headerOne:c["a"]},p(i,l["a"].name,l["a"]),p(i,"pubButton",u["a"]),p(i,"background",d["a"]),p(i,"gearboxType",m),p(i,"selectCar",g),p(i,"selectCarLine",y),p(i,o["a"].name,o["a"]),p(i,s["a"].name,s["a"]),i),data:function(){var t;return{pageShow:!1,backShow:!0,checkState:!1,title:this.$route.meta.title,ccType:"",ccState:0,isShow:1,currentDate:[],carStyleShow:!1,selectYear:"",yearIndex:0,yearValue:2019,baseInfo:(t={referee:{refereePhone:"",refereeName:""},vin:"",airAdmission:"",brandModel:"",brandModelId:"",carBrandId:"",carBrandName:"",carCc:"",carLineId:"",carLineName:"",carModelFullName:"",carModelId:"",carModelName:"",gearboxType:"",icoName:"",nianKuan:"",produceYear:"",saleName:"",dwUnit:"L",carKm:"",carStyle:"",carType:1,carYear:"",isBlockPolicy:0,isWxOpenId:0,userName:"",phone:"",plateNumber:"",plateNumberC:"A",plateNumberP:"粤"},p(t,"produceYear",""),p(t,"tripDistance",""),p(t,"fuelMeter",""),t),errorMessage:{vin:"",carLineName:"",carCc:"",nianKuan:"",gearboxType:""},carTitle:{1:this.$route.meta.title,2:"选择车系",3:"选择车型",5:"选择变速箱"},tmpCarBrand:{carBrandId:"",carBrandName:"",iconName:""},getUrlArr:{status:"",vin:"",plate:"",billId:"",workBoardId:"",dedicatedType:""},billType_list:[],billId:"",workBoardId:"",reportType:"",createNewVal:1}},created:function(){this.currentArr();var t=this.$session.get("backShow")?this.$session.get("backShow"):1;2==t&&(this.backShow=!1),this.$session.set("billCode",""),this.reportType=this.$local.get("reportType");var e=Object(b["h"])();if(this.getUrlArr=e,e.reportType&&(this.reportType=e.reportType,this.$local.set("reportType",e.reportType)),e.billId)this.billId=e.billId,this.$local.set("billId",e.billId),this.$local.set("reportType","");else if(e.workBoardId)this.workBoardId=e.workBoardId,this.$local.set("workBoardId",e.workBoardId),this.$local.set("reportType","");else{var n=this.$local.get("billId")?this.$local.get("billId"):"",i=this.$local.get("workBoardId")?this.$local.get("workBoardId"):"";n?this.billId=n:i&&(this.workBoardId=i)}if(e.dedicatedType&&"J003"==e.dedicatedType&&(this.reportType="J003",this.$local.set("reportType","J003")),e.vin){var a=this.$local.get("baseInfo")?this.$local.get("baseInfo"):"";if(a){if(a=a,a.vin&&a.vin==e.vin){if(e.plate){var r=decodeURI(e.plate);a.plateNumberP=r.substring(0,1),a.plateNumberC=r.substring(1,2),a.plateNumber=r.substring(2)}this.createNewVal=2,this.getData(a)}}else if(e.plate){var s=decodeURI(e.plate);this.baseInfo.plateNumberP=s.substring(0,1),this.baseInfo.plateNumberC=s.substring(1,2),this.baseInfo.plateNumber=s.substring(2)}}else if(!e.vin)return this.frameNum(),!1;this.createNew()},mounted:function(){var t=this;window["andClick"]=function(){t.back()}},methods:{paramsData:function(){if(this.billId)this.getBillDetail();else if(this.workBoardId&&1==this.createNewVal){var t={workBoardId:this.workBoardId};this.getCreateNew(t)}else this.getUrlArr.vin&&(this.baseInfo.vin=this.getUrlArr.vin,this.checkRestrict())},getData:function(t){for(var e in this.baseInfo)if(t[e]){if(this.baseInfo[e]=t[e],"carCc"==e&&t[e]){var n=parseFloat(t[e]);if(this.baseInfo.carCc=n,!this.baseInfo.dwUnit){var i="L";t[e].toString().indexOf("T")>-1&&(i="T"),this.baseInfo.dwUnit=i,this.ccUpType(this.baseInfo.dwUnit)}}"dwUnit"==e&&t[e]&&(this.baseInfo.dwUnit=t[e],this.ccUpType(this.baseInfo.dwUnit))}if(this.baseInfo.carStyle=this.baseInfo.carStyle?this.baseInfo.carStyle:this.baseInfo.produceYear,this.baseInfo.carStyle=this.baseInfo.carStyle?this.baseInfo.carStyle:this.baseInfo.carYear,this.baseInfo.produceYear=this.baseInfo.produceYear?this.baseInfo.produceYear:this.baseInfo.carStyle,this.baseInfo.carYear=this.baseInfo.carYear?this.baseInfo.carYear:this.baseInfo.carStyle,this.baseInfo.nianKuan=this.baseInfo.nianKuan?this.baseInfo.nianKuan:this.baseInfo.carYear,this.baseInfo.carBrandName&&this.baseInfo.carLineName?this.carModel=this.baseInfo.carBrandName+" "+this.baseInfo.carLineName:this.carModel="",this.baseInfo.plateNumber=this.baseInfo.plateNumber?this.baseInfo.plateNumber:"",this.plate){var a=decodeURI(this.plate);this.baseInfo.plateNumberP=a.substring(0,1),this.baseInfo.plateNumberC=a.substring(1,2),this.baseInfo.plateNumber=a.substring(2)}this.yearValue=this.baseInfo.nianKuan,this.checkStateFun(),this.backShow&&this.baseInfo&&this.baseInfo.carBrandId&&this.baseInfo.carBrandName&&this.baseInfo.nianKuan&&this.baseInfo.carCc&&this.baseInfo.carLineId&&this.baseInfo.carLineName&&this.baseInfo.gearboxType?this.goPage():this.pageShow=!0},frameNum:function(){var t=this.baseInfo.vin&&""!=this.baseInfo.vin?this.baseInfo.vin:"";this.getUrlArr.status&&"ios"==this.getUrlArr.status?window.location="objc://doFunc/giveVin/"+t:android.orderlist("giveVin",t)},back:function(){return 3==this.isShow?(this.showModel(2),!1):2==this.isShow?(this.showModel(1),!1):5==this.isShow?(this.showModel(1),!1):(this.$local.set("baseInfo",this.baseInfo),void f["a"].back())},createNew:function(){var t=this;h["a"].getCreateNew().then(function(e){2e4==e.code&&e.data&&(e.data.billType_list&&e.data.billType_list.length>0&&(t.billType_list=e.data.billType_list,t.$session.set("billType_list",e.data.billType_list)),e.data.tech_list&&e.data.tech_list.length>0&&t.$session.set("tech_list",e.data.tech_list),t.paramsData())})},checkRestrict:function(){var t=this;h["a"].checkRestrict({vin:this.getUrlArr.vin}).then(function(e){if(2e4==e.code&&e.data&&"{}"!=JSON.stringify(e.data)){if(e.data.billType_list&&e.data.billType_list.length>0&&t.$session.set("billType_list",e.data.billType_list),e.data.allowBillType&&t.$local.set("reportType",e.data.allowBillType),1==t.createNewVal){t.getData(e.data.baseInfo);var n=e.data.baseInfo?e.data.baseInfo:"";"A"==e.data.allowBillType&&t.checkCustomer(n)}}else 1==t.createNewVal&&t.checkCustomer()})},checkCustomer:function(t){var e=this;h["a"].checkCustomer({vin:this.getUrlArr.vin}).then(function(n){2e4==n.code&&n.data&&"{}"!=JSON.stringify(n.data)?(t&&t.phone&&(n.data.phone=t.phone),t&&t.name&&(n.data.name=t.name),e.getData(n.data)):e.getCarInfoByVin()})},getCarInfoByVin:function(){var t=this;h["a"].getCarInfoByVin({vin:this.getUrlArr.vin}).then(function(e){2e4==e.code&&e.data&&"{}"!=JSON.stringify(e.data)?(t.baseInfo.carType=0,t.getData(e.data[0])):t.pageShow=!0})},getBillDetail:function(){var t=this;h["a"].getBillDetail({billId:this.billId}).then(function(e){if(2e4==e.code&&e.data&&e.data.baseInfo){var n=e.data.baseInfo;if(t.getUrlArr.vin&&(n.vin=t.getUrlArr.vin),e.data.billType_list&&e.data.billType_list.length>0&&t.$session.set("billType_list",e.data.billType_list),n.allowBillType&&1==n.allowBillType.length&&n.allowBillType[0].billType)t.$local.set("reportType",n.allowBillType[0].billType);else if(n.allowBillType&&n.allowBillType.length>1){var i=[];t.billType_list.forEach(function(t){n.allowBillType.forEach(function(e){t.billTypeKey==e.billType&&i.push(t)})}),t.$session.set("billType_list",i),t.$session.set("billCode","YHJC10000")}1==t.createNewVal&&t.getData(n),e.data.channelCode&&"YHJC10000"==e.data.channelCode&&t.$session.set("billCode","YHJC10000"),t.checkRestrict()}})},getCreateNew:function(t){var e=this;h["a"].getCreateNew(t).then(function(t){2e4==t.code&&t.data&&t.data.workBoardData&&(e.getUrlArr.vin&&(t.data.workBoardData.vin=e.getUrlArr.vin),e.getData(t.data.workBoardData),e.checkRestrict())})},showModel:function(t){this.isShow=t,this.title=this.carTitle[t]},carBrandShow:function(){this.showModel(2)},getCarFullName:function(){this.baseInfo.carModelFullName="",this.checkStateFun()},carBrandConfirm:function(t){var e=this;this.tmpCarBrand.carBrandId=t.id,this.tmpCarBrand.carBrandName=t.brandName,this.tmpCarBrand.icoName=t.icoName,this.$nextTick(function(){e.showModel(3)})},carLineConfirm:function(t){this.baseInfo.carBrandId=this.tmpCarBrand.carBrandId,this.baseInfo.carBrandName=this.tmpCarBrand.carBrandName,this.baseInfo.icoName=this.tmpCarBrand.icoName,this.baseInfo.carLineId=t.id,this.baseInfo.carLineName=t.lineName,this.errorMessage.carLineName="",this.getCarFullName(),this.showModel(1)},selectDateTime:function(){this.carStyleShow=!0},onCancel:function(){this.carStyleShow=!1},onConfirm:function(t,e){this.yearIndex=e,this.baseInfo.carStyle=t,this.baseInfo.produceYear=t,this.baseInfo.carYear=t,this.baseInfo.nianKuan=t,this.carStyleShow=!1,this.errorMessage.nianKuan="",this.getCarFullName()},currentArr:function(){this.currentDate=[];for(var t=(new Date).getFullYear();t>1999;t--)this.currentDate.push(t)},getColumnValue:function(t){var e=t.getFullYear();this.selectYear=e},ccUpType:function(t){this.dwUnit=t,this.ccType=t,this.baseInfo.dwUnit=t,this.ccState="L"==t?0:1,this.getCarFullName()},showGearboxTypeHandle:function(){this.showModel(5)},gearboxTypeConfirm:function(t){this.showModel(1),this.baseInfo.gearboxType=t,this.errorMessage.gearboxType="",this.getCarFullName()},errorMessageData:function(){var t={vin:"请输入车架号",carLineName:"请选择车系车型",carCc:"请输入排量",nianKuan:"请选择年款",gearboxType:"请选择变速箱"};for(var e in this.errorMessage){if(""==this.baseInfo[e])return this.errorMessage[e]=t[e],!1;this.errorMessage[e]=""}this.checkState&&this.goPage()},goPage:function(){this.$local.set("baseInfo",this.baseInfo),this.$router.push({path:"customerInfo"})},checkStateFun:function(){for(var t in this.errorMessage)if(""==this.baseInfo[t])return this.checkState=!1,!1;this.checkState=!0},notNull:function(t,e){if("carCc"==t){var n=this.baseInfo[t];n=n.substring(0,3),n=n.replace(/[^\d.]/g,""),n=n.replace(/^\./g,""),n=n.replace(/\.{2,}/g,"."),n=n.replace(".","$#$").replace(/\./g,"").replace("$#$","."),n=n.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.baseInfo[t]=n}this.getCarFullName(),this.baseInfo[t]&&(this.errorMessage[t]="")}}},I=v,C=(n("9e97"),n("2877")),w=Object(C["a"])(I,a,r,!1,null,"37191a8b",null);e["default"]=w.exports},d5c9:function(t,e,n){},e62a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showStatus,expression:"showStatus"}],ref:"buttonSelector",style:t.styleButton,attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.buttonConfirm}},[t._v(t._s(t.title))])],1),n("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed})],1)},a=[];function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={data:function(){return{showStatus:!0,styleButton:{},styleButtonFixed:{}}},props:{title:{type:String,default:""},background:{type:String,default:"#46aef7"},isFixed:{type:Boolean,default:!0},textColor:{type:String,default:"#fff"}},created:function(){},mounted:function(){this.init(),this.screenSizeControl(),this.styleButtonHandle()},methods:{init:function(){var t=this.$refs.buttonSelector.offsetHeight+10;this.styleButtonFixed={height:t+"px"}},buttonConfirm:function(){this.$emit("buttonConfirm")},screenSizeControl:function(){var t=this,e=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var n=document.documentElement.clientHeight||document.body.clientHeight,i=e-n;t.showStatus=!(n<e&&i>100)}},styleButtonHandle:function(){this.styleButton={"background-color":this.background,border:"1px solid"+this.background,color:this.textColor}}},watch:{background:function(t,e){var n={"background-color":t,border:"1px solid"+t};this.styleButton=s({},this.styleButton,{},n)}}},c=l,u=(n("fc10"),n("2877")),h=Object(u["a"])(c,i,a,!1,null,"68d620b5",null);e["a"]=h.exports},ee83:function(t,e,n){"use strict";var i=n("1988"),a=n("a142"),r=n("f253"),s=n("1b10");function o(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function l(t){return("00"+t).slice(-2)}function c(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function u(t){if(t){while(isNaN(parseInt(t,10)))t=t.slice(1);return parseInt(t,10)}}function h(t,e){return 32-new Date(t,e-1,32).getDate()}var f=Object(a["j"])("datetime-picker"),d=f[0],b=f[1],p=(new Date).getFullYear();e["a"]=d({props:Object(i["a"])({},s["a"],{value:null,minHour:Number,minMinute:Number,type:{type:String,default:"datetime"},showToolbar:{type:Boolean,default:!0},format:{type:String,default:"YYYY.MM.DD HH时 mm分"},formatter:{type:Function,default:function(t,e){return e}},minDate:{type:Date,default:function(){return new Date(p-10,0,1)},validator:o},maxDate:{type:Date,default:function(){return new Date(p+10,11,31)},validator:o},maxHour:{type:Number,default:23},maxMinute:{type:Number,default:59}}),data:function(){return{innerValue:this.correctValue(this.value)}},watch:{value:function(t){t=this.correctValue(t);var e="time"===this.type?t===this.innerValue:t.valueOf()===this.innerValue.valueOf();e||(this.innerValue=t,"time"===this.type&&this.updateColumnValue(t))},innerValue:function(t){this.$emit("input",t)},columns:function(){this.updateColumnValue(this.innerValue)}},computed:{ranges:function(){if("time"===this.type)return[{type:"hour",range:[this.minHour,this.maxHour]},{type:"minute",range:[this.minMinute,this.maxMinute]}];var t=this.getBoundary("max",this.innerValue),e=t.maxYear,n=t.maxDate,i=t.maxMonth,a=t.maxHour,r=t.maxMinute,s=this.getBoundary("min",this.innerValue),o=s.minYear,l=s.minDate,c=s.minMonth,u=s.minHour,h=s.minMinute,f=[{type:"year",range:[o,e]},{type:"month",range:[c,i]},{type:"day",range:[l,n]},{type:"hour",range:[u,a]},{type:"minute",range:[h,r]}];return"date"===this.type&&f.splice(3,2),"year-month"===this.type&&f.splice(2,3),f},columns:function(){var t=this,e=this.ranges.map(function(e){var n=e.type,i=e.range,a=c(i[1]-i[0]+1,function(e){var a=i[0]+e;return a=a<10?"0"+a:""+a,t.formatter(n,a)});return{values:a}});return e}},mounted:function(){this.updateColumnValue(this.innerValue)},methods:{correctValue:function(t){var e="time"!==this.type;if(e&&!o(t))t=this.minDate;else if(!t){var n=this.minHour;t=(n>10?n:"0"+n)+":00"}if(!e){var i=t.split(":"),r=i[0],s=i[1];return r=l(Object(a["i"])(r,this.minHour,this.maxHour)),s=l(Object(a["i"])(s,this.minMinute,this.maxMinute)),r+":"+s}return t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var n,i=this[t+"Date"],a=i.getFullYear(),r=1,s=1,o=0,l=0;return"max"===t&&(r=12,s=h(e.getFullYear(),e.getMonth()+1),o=23,l=59),e.getFullYear()===a&&(r=i.getMonth()+1,e.getMonth()+1===r&&(s=i.getDate(),e.getDate()===s&&(o=i.getHours(),e.getHours()===o&&(l=i.getMinutes())))),n={},n[t+"Year"]=a,n[t+"Month"]=r,n[t+"Date"]=s,n[t+"Hour"]=o,n[t+"Minute"]=l,n},onConfirm:function(){this.$emit("confirm",this.innerValue)},onChange:function(t){var e,n=this;if("time"===this.type){var i=t.getIndexes();e=i[0]+this.minHour+":"+(i[1]+this.minMinute)}else{var a=t.getValues(),r=u(a[0]),s=u(a[1]),o=h(r,s),l=u(a[2]);"year-month"===this.type&&(l=1),l=l>o?o:l;var c=0,f=0;"datetime"===this.type&&(c=u(a[3]),f=u(a[4])),e=new Date(r,s-1,l,c,f)}this.innerValue=this.correctValue(e),this.$nextTick(function(){n.$nextTick(function(){n.$emit("change",t)})})},updateColumnValue:function(t){var e=this,n=[],i=this.formatter;if("time"===this.type){var a=t.split(":");n=[i("hour",a[0]),i("minute",a[1])]}else n=[i("year",""+t.getFullYear()),i("month",l(t.getMonth()+1)),i("day",l(t.getDate()))],"datetime"===this.type&&n.push(i("hour",l(t.getHours())),i("minute",l(t.getMinutes()))),"year-month"===this.type&&(n=n.slice(0,2));this.$nextTick(function(){e.$refs.picker.setValues(n)})}},render:function(t){var e=this,n={};return Object.keys(s["a"]).forEach(function(t){n[t]=e[t]}),t(r["a"],{class:b(),ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:function(){e.$emit("cancel")}},props:Object(i["a"])({},n)})}})},f253:function(t,e,n){"use strict";var i=n("1988"),a=n("a142"),r=n("db78"),s=n("1128");function o(t){return Array.isArray(t)?t.map(function(t){return o(t)}):"object"===typeof t?Object(s["a"])({},t):t}var l=n("1b10"),c=n("543e"),u=200,h=Object(a["j"])("picker-column"),f=h[0],d=h[1],b=f({props:{valueKey:String,className:String,itemHeight:Number,defaultIndex:Number,initialOptions:Array,visibleItemCount:Number},data:function(){return{startY:0,offset:0,duration:0,startOffset:0,options:o(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{defaultIndex:function(){this.setIndex(this.defaultIndex)}},computed:{count:function(){return this.options.length}},methods:{onTouchStart:function(t){this.startY=t.touches[0].clientY,this.startOffset=this.offset,this.duration=0},onTouchMove:function(t){Object(r["c"])(t);var e=t.touches[0].clientY-this.startY;this.offset=Object(a["i"])(this.startOffset+e,-this.count*this.itemHeight,this.itemHeight)},onTouchEnd:function(){if(this.offset!==this.startOffset){this.duration=u;var t=Object(a["i"])(Math.round(-this.offset/this.itemHeight),0,this.count-1);this.setIndex(t,!0)}},adjustIndex:function(t){t=Object(a["i"])(t,0,this.count);for(var e=t;e<this.count;e++)if(!this.isDisabled(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!this.isDisabled(this.options[n]))return n},isDisabled:function(t){return Object(a["f"])(t)&&t.disabled},getOptionText:function(t){return Object(a["f"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){t=this.adjustIndex(t)||0,this.offset=-t*this.itemHeight,t!==this.currentIndex&&(this.currentIndex=t,e&&this.$emit("change",t))},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]}},render:function(t){var e=this,n=this.itemHeight,i=this.visibleItemCount,a={height:n*i+"px"},r=n*(i-1)/2,s={transition:this.duration+"ms",transform:"translate3d(0, "+(this.offset+r)+"px, 0)",lineHeight:n+"px"},o={height:n+"px"};return t("div",{style:a,class:[d(),this.className],on:{touchstart:this.onTouchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[t("ul",{style:s},[this.options.map(function(n,i){return t("li",{style:o,class:["van-ellipsis",d("item",{disabled:e.isDisabled(n),selected:i===e.currentIndex})],domProps:{innerHTML:e.getOptionText(n)},on:{click:function(){e.setIndex(i,!0)}}})})])])}}),p=Object(a["j"])("picker"),m=p[0],g=p[1],y=p[2];e["a"]=m({props:Object(i["a"])({},l["a"],{columns:Array,defaultIndex:{type:Number,default:0},valueKey:{type:String,default:"text"}}),data:function(){return{children:[]}},computed:{simple:function(){return this.columns.length&&!this.columns[0].values}},watch:{columns:function(){this.setColumns()}},methods:{setColumns:function(){var t=this,e=this.simple?[{values:this.columns}]:this.columns;e.forEach(function(e,n){t.setColumnValues(n,o(e.values))})},emit:function(t){this.simple?this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit(t,this.getValues(),this.getIndexes())},onChange:function(t){this.simple?this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0)):this.$emit("change",this,this.getValues(),t)},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&n.setValue(e)},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&n.setIndex(e)},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&JSON.stringify(n.options)!==JSON.stringify(e)&&(n.options=e,n.setIndex(0))},getValues:function(){return this.children.map(function(t){return t.getValue()})},setValues:function(t){var e=this;t.forEach(function(t,n){e.setColumnValue(n,t)})},getIndexes:function(){return this.children.map(function(t){return t.currentIndex})},setIndexes:function(t){var e=this;t.forEach(function(t,n){e.setColumnIndex(n,t)})},onConfirm:function(){this.emit("confirm")},onCancel:function(){this.emit("cancel")}},render:function(t){var e=this,n=this.itemHeight,i=this.simple?[this.columns]:this.columns,a={height:n+"px"},s={height:n*this.visibleItemCount+"px"},o=this.showToolbar&&t("div",{class:["van-hairline--top-bottom",g("toolbar")]},[this.slots()||[t("div",{class:g("cancel"),on:{click:this.onCancel}},[this.cancelButtonText||y("cancel")]),this.slots("title")||this.title&&t("div",{class:["van-ellipsis",g("title")]},[this.title]),t("div",{class:g("confirm"),on:{click:this.onConfirm}},[this.confirmButtonText||y("confirm")])]]);return t("div",{class:g()},[o,this.loading?t("div",{class:g("loading")},[t(c["a"])]):t(),t("div",{class:g("columns"),style:s,on:{touchmove:r["c"]}},[i.map(function(n,i){return t(b,{attrs:{valueKey:e.valueKey,className:n.className,itemHeight:e.itemHeight,defaultIndex:n.defaultIndex||e.defaultIndex,visibleItemCount:e.visibleItemCount,initialOptions:e.simple?n:n.values},on:{change:function(){e.onChange(i)}}})}),t("div",{class:["van-hairline--top-bottom",g("frame")],style:a})])])}})},fc10:function(t,e,n){"use strict";var i=n("d5c9"),a=n.n(i);a.a}}]);