(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b325f5f"],{"0b33":function(t,e,i){"use strict";var n=i("a142"),a=i("f331"),o=Object(n["j"])("tab"),s=o[0],r=o[1];e["a"]=s({mixins:[a["a"]],props:{title:String,disabled:Boolean},data:function(){return{inited:!1}},computed:{index:function(){return this.parent.tabs.indexOf(this)},selected:function(){return this.index===this.parent.curActive}},watch:{"parent.curActive":function(){this.inited=this.inited||this.selected},title:function(){this.parent.setLine()}},created:function(){this.findParent("van-tabs")},mounted:function(){var t=this.parent.tabs,e=this.parent.slots().indexOf(this.$vnode);t.splice(-1===e?t.length:e,0,this),this.slots("title")&&this.parent.renderTitle(this.$refs.title,this.index)},beforeDestroy:function(){this.parent.tabs.splice(this.index,1)},render:function(t){var e=this.slots,i=this.inited||!this.parent.lazyRender;return t("div",{directives:[{name:"show",value:this.selected||this.parent.animated}],class:r("pane")},[i?e():t(),e("title")&&t("div",{ref:"title"},[e("title")])])}})},"34f0":function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("background"),t.finishedStatus?i("div",{staticClass:"main-container"},[i("van-tabs",{on:{change:t.changeTabs},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[i("van-tab",{attrs:{title:"订单"}},[i("van-pull-refresh",{on:{refresh:t.onRefreshForBookingData},model:{value:t.bookingData.refresh,callback:function(e){t.$set(t.bookingData,"refresh",e)},expression:"bookingData.refresh"}},[i("van-list",{attrs:{finished:t.bookingData.finished,"finished-text":"没有更多了"},on:{load:t.getBookingList},model:{value:t.bookingData.loading,callback:function(e){t.$set(t.bookingData,"loading",e)},expression:"bookingData.loading"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bookingData.list.length,expression:"bookingData.list.length"}]},t._l(t.bookingData.list,function(e,n){return i("div",{key:n,staticClass:"booking-data-block",on:{click:function(i){return t.bookingLocation(e.bill_id)}}},[i("van-row",{staticClass:"booking-data-block-top"},[i("van-row",{staticClass:"booking-data-block-title"},[i("van-col",{attrs:{span:"24"}},[i("h4",[t._v("小虎检车预约")])])],1),i("van-row",[i("van-col",{attrs:{span:"5"}},[t._v("预约状态:")]),i("van-col",{attrs:{span:"18"}},[t._v(t._s(t.bookingData.statusList[e.status]))])],1),i("van-row",[i("van-col",{attrs:{span:"5"}},[t._v("预约站点:")]),i("van-col",{attrs:{span:"18"}},[t._v(t._s(e.shop_name))])],1),i("van-row",[i("van-col",{attrs:{span:"5"}},[t._v("站点地址:")]),i("van-col",{attrs:{span:"18"}},[t._v(t._s(e.address))])],1)],1),i("van-row",{staticClass:"booking-data-block-detail"},[i("van-cell",{attrs:{title:"",value:"点击查看订单详情","is-link":""}},[i("template",{slot:"title"},[i("span",{staticClass:"custom-text"},[t._v(" ")])])],2)],1)],1)}),0)])],1)],1),i("van-tab",{attrs:{title:"报告"}},[i("van-pull-refresh",{on:{refresh:t.onRefreshForReport},model:{value:t.reportData.refresh,callback:function(e){t.$set(t.reportData,"refresh",e)},expression:"reportData.refresh"}},[i("van-list",{attrs:{finished:t.reportData.finished,"finished-text":!t.reportData.list.length&&this.reportData.finished?"":"没有更多了"},on:{load:t.getReportList},model:{value:t.reportData.loading,callback:function(e){t.$set(t.reportData,"loading",e)},expression:"reportData.loading"}},[!t.reportData.list.length&&this.reportData.finished?i("div",[i("div",{staticClass:"experience-block"},[i("van-row",{staticClass:"experience-block-no-data"},[t._v("暂无数据,下拉即可刷新")]),i("div",{staticClass:"no-report",on:{click:t.experienceUrl}},[i("span",[t._v("点击查看JNS体验报告")])])],1)]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.reportData.list.length,expression:"reportData.list.length"}]},t._l(t.reportData.list,function(e,n){return i("div",{key:n,staticClass:"booking-data-block",on:{click:function(i){return t.reportLocation(e.ownerSmsUrl)}}},[i("van-row",{staticClass:"booking-data-block-top"},[i("van-row",{staticClass:"booking-data-block-title"},[i("van-col",{attrs:{span:"24"}},[i("h4",[t._v(t._s(e.title))])])],1),i("van-row",[i("van-col",{attrs:{span:"5"}},[t._v("预约站点:")]),i("van-col",{attrs:{span:"18"}},[t._v(t._s(e.shopName))])],1),i("van-row",[i("van-col",{attrs:{span:"5"}},[t._v("站点地址:")]),i("van-col",{attrs:{span:"18"}},[t._v(t._s(e.address))])],1)],1),i("van-row",{staticClass:"booking-data-block-detail"},[i("van-cell",{attrs:{title:"",value:"点击查看报告详情","is-link":""}},[i("template",{slot:"title"},[i("span",{staticClass:"custom-text"},[t._v(" ")])])],2)],1)],1)}),0)])],1)],1)],1)],1):t._e()],1)},o=[],s=(i("5f1a"),i("a3e2")),r=(i("ab71"),i("58e6")),c=(i("2994"),i("2bdd")),l=(i("3647"),i("ea47")),h=(i("bda7"),i("5e46")),u=(i("da3c"),i("0b33")),f=i("7267"),d=i("f7b2");i("cf45");function p(t){return g(t)||b(t)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function g(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function k(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var w={components:(n={background:f["a"]},k(n,u["a"].name,u["a"]),k(n,h["a"].name,h["a"]),k(n,l["a"].name,l["a"]),k(n,c["a"].name,c["a"]),k(n,r["a"].name,r["a"]),k(n,s["a"].name,s["a"]),n),name:"order",data:function(){return{finishedStatus:!1,active:1,showMenuStatus:!1,reportData:{loading:!1,finished:!1,list:[],page:1,pagesize:10,total:0,refresh:!1},bookingData:{loading:!1,finished:!1,list:[],page:1,pagesize:10,total:0,statusList:{0:"预约成功",1:"待处理",2:"已取消",3:"已完成",4:"处理中"},refresh:!1},noReport:!1,created:!1}},beforeRouteLeave:function(t,e,i){i()},created:function(){this.orderHandle()},mounted:function(){},activated:function(){var t=this;this.orderHandle(function(){t.refreshForBooking()})},methods:{appointment:function(){},closeMenu:function(){this.$emit("closeEvent",!1)},showMenu:function(){this.showMenuStatus=!0},getReportList:function(){var t=this;d["a"].getReportList({page:this.reportData.page,pagesize:this.reportData.pagesize}).then(function(e){if(t.reportData.loading=!1,2e4==e.code){var i=e.data.list,n=e.total;!0===t.reportData.refresh&&(t.reportData.total=0,t.reportData.list=[],t.reportData.finished=!1,t.reportData.refresh=!1),t.reportData.total+=i.length,i.length>0&&(t.reportData.list=[].concat(p(t.reportData.list),p(i)),t.reportData.page++),(0==n||0===i.length||n<t.reportData.pagesize||n==t.reportData.total)&&(t.reportData.finished=!0)}else t.$toast.fail(e.msg),t.reportData.finished=!0})},getBookingList:function(){var t=this;d["a"].getBookingList({page:this.bookingData.page,pagesize:this.bookingData.pagesize}).then(function(e){if(2e4==e.code){t.bookingData.loading=!1;var i=e.data.list,n=e.total;!0===t.bookingData.refresh&&(t.bookingData.total=0,t.bookingData.list=[],t.bookingData.finished=!1,t.bookingData.refresh=!1),t.bookingData.total+=i.length,i.length>0&&(t.bookingData.list=[].concat(p(t.bookingData.list),p(i)),t.bookingData.page++),(0==n||0===i.length||n<t.bookingData.pagesize||n==t.bookingData.total)&&(t.bookingData.finished=!0)}else t.$toast.fail(e.msg),t.bookingData.finished=!0})},loadingBookingList:function(t){},changeTabs:function(t){},onRefreshForReport:function(){var t=this;setTimeout(function(){t.refreshForReport()},1e3)},onRefreshForBookingData:function(){var t=this;setTimeout(function(){t.refreshForBooking()},1e3)},refreshForBooking:function(){this.bookingData.refresh=!0,this.bookingData.page=1,this.getBookingList()},refreshForReport:function(){this.reportData.refresh=!0,this.reportData.page=1,this.getReportList()},reportLocation:function(t){location.href=t},bookingLocation:function(t){this.$router.push({name:"orderDetail",params:{billId:t}})},orderHandle:function(t){var e=this.$session.get("orderActive");e&&(this.active=0,this.bookingData.list=[],this.bookingData.page=1,this.bookingData.total=0,t&&t(),this.$session.remove("orderActive")),this.finishedStatus=!0},experienceUrl:function(){location.href="https://www.wanguoqiche.com/intro/aj2019/index.html"}}},m=w,D=(i("c935"),i("2877")),y=Object(D["a"])(m,a,o,!1,null,"a0a4c908",null);e["default"]=y.exports},4678:function(t,e,i){},"5e46":function(t,e,i){"use strict";var n=i("a142"),a=i("8624"),o=i("db78"),s=i("3875"),r=i("023d"),c=Object(n["j"])("tabs"),l=c[0],h=c[1],u=Object(n["j"])("tab")[1];e["a"]=l({mixins:[s["a"]],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,offsetTop:Number,swipeable:Boolean,background:String,titleActiveColor:String,titleInactiveColor:String,ellipsis:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0},lineWidth:{type:Number,default:null},lineHeight:{type:Number,default:null},active:{type:[Number,String],default:0},type:{type:String,default:"line"},duration:{type:Number,default:.3},swipeThreshold:{type:Number,default:4}},data:function(){return{tabs:[],position:"",curActive:null,lineStyle:{backgroundColor:this.color},events:{resize:!1,sticky:!1,swipeable:!1}}},computed:{scrollable:function(){return this.tabs.length>this.swipeThreshold||!this.ellipsis},wrapStyle:function(){switch(this.position){case"top":return{top:this.offsetTop+"px",position:"fixed"};case"bottom":return{top:"auto",bottom:0};default:return null}},navStyle:function(){return{borderColor:this.color,background:this.background}},trackStyle:function(){if(this.animated)return{left:-1*this.curActive*100+"%",transitionDuration:this.duration+"s"}}},watch:{active:function(t){t!==this.curActive&&this.correctActive(t)},color:function(){this.setLine()},tabs:function(){this.correctActive(this.curActive||this.active),this.scrollIntoView(),this.setLine()},curActive:function(){this.scrollIntoView(),this.setLine(),"top"!==this.position&&"bottom"!==this.position||Object(r["f"])(window,Object(r["a"])(this.$el)-this.offsetTop)},sticky:function(){this.handlers(!0)},swipeable:function(){this.handlers(!0)}},mounted:function(){this.onShow()},activated:function(){this.onShow(),this.setLine()},deactivated:function(){this.handlers(!1)},beforeDestroy:function(){this.handlers(!1)},methods:{onShow:function(){var t=this;this.$nextTick(function(){t.inited=!0,t.handlers(!0),t.scrollIntoView(!0)})},handlers:function(t){var e=this.events,i=this.sticky&&t,n=this.swipeable&&t;if(e.resize!==t&&(e.resize=t,(t?o["b"]:o["a"])(window,"resize",this.setLine,!0)),e.sticky!==i&&(e.sticky=i,this.scrollEl=this.scrollEl||Object(r["c"])(this.$el),(i?o["b"]:o["a"])(this.scrollEl,"scroll",this.onScroll,!0),this.onScroll()),e.swipeable!==n){e.swipeable=n;var a=this.$refs.content,s=n?o["b"]:o["a"];s(a,"touchstart",this.touchStart),s(a,"touchmove",this.touchMove),s(a,"touchend",this.onTouchEnd),s(a,"touchcancel",this.onTouchEnd)}},onTouchEnd:function(){var t=this.direction,e=this.deltaX,i=this.curActive,n=50;"horizontal"===t&&this.offsetX>=n&&(e>0&&0!==i?this.setCurActive(i-1):e<0&&i!==this.tabs.length-1&&this.setCurActive(i+1))},onScroll:function(){var t=Object(r["d"])(window)+this.offsetTop,e=Object(r["a"])(this.$el),i=e+this.$el.offsetHeight-this.$refs.wrap.offsetHeight;this.position=t>i?"bottom":t>e?"top":"";var n={scrollTop:t,isFixed:"top"===this.position};this.$emit("scroll",n)},setLine:function(){var t=this,e=this.inited;this.$nextTick(function(){var i=t.$refs.tabs;if(i&&i[t.curActive]&&"line"===t.type){var a=i[t.curActive],o=t.lineWidth,s=t.lineHeight,r=Object(n["c"])(o)?o:a.offsetWidth/2,c=a.offsetLeft+(a.offsetWidth-r)/2,l={width:r+"px",backgroundColor:t.color,transform:"translateX("+c+"px)"};if(e&&(l.transitionDuration=t.duration+"s"),Object(n["c"])(s)){var h=s+"px";l.height=h,l.borderRadius=h}t.lineStyle=l}})},correctActive:function(t){t=+t;var e=this.tabs.some(function(e){return e.index===t}),i=(this.tabs[0]||{}).index||0;this.setCurActive(e?t:i)},setCurActive:function(t){t=this.findAvailableTab(t,t<this.curActive),Object(n["c"])(t)&&t!==this.curActive&&(this.$emit("input",t),null!==this.curActive&&this.$emit("change",t,this.tabs[t].title),this.curActive=t)},findAvailableTab:function(t,e){var i=e?-1:1,n=t;while(n>=0&&n<this.tabs.length){if(!this.tabs[n].disabled)return n;n+=i}},onClick:function(t){var e=this.tabs[t],i=e.title,n=e.disabled;n?this.$emit("disabled",t,i):(this.setCurActive(t),this.$emit("click",t,i))},scrollIntoView:function(t){var e=this.$refs.tabs;if(this.scrollable&&e&&e[this.curActive]){var i=this.$refs.nav,n=i.scrollLeft,a=i.offsetWidth,o=e[this.curActive],s=o.offsetLeft,r=o.offsetWidth;this.scrollTo(i,n,s-(a-r)/2,t)}},scrollTo:function(t,e,i,n){if(n)t.scrollLeft+=i-e;else{var o=0,s=Math.round(1e3*this.duration/16),r=function n(){t.scrollLeft+=(i-e)/s,++o<s&&Object(a["a"])(n)};r()}},renderTitle:function(t,e){var i=this;this.$nextTick(function(){var n=i.$refs.title[e];n.parentNode.replaceChild(t,n)})},getTabStyle:function(t,e){var i={},n=this.color,a=e===this.curActive,o="card"===this.type;n&&(t.disabled||!o||a||(i.color=n),!t.disabled&&o&&a&&(i.backgroundColor=n),o&&(i.borderColor=n));var s=a?this.titleActiveColor:this.titleInactiveColor;return s&&(i.color=s),this.scrollable&&this.ellipsis&&(i.flexBasis=88/this.swipeThreshold+"%"),i}},render:function(t){var e=this,i=this.type,n=this.ellipsis,a=this.animated,o=this.scrollable,s=this.tabs.map(function(i,a){return t("div",{ref:"tabs",refInFor:!0,class:u({active:a===e.curActive,disabled:i.disabled,complete:!n}),style:e.getTabStyle(i,a),on:{click:function(){e.onClick(a)}}},[t("span",{ref:"title",refInFor:!0,class:{"van-ellipsis":n}},[i.title])])});return t("div",{class:h([i])},[t("div",{ref:"wrap",style:this.wrapStyle,class:[h("wrap",{scrollable:o}),{"van-hairline--top-bottom":"line"===i}]},[t("div",{ref:"nav",class:h("nav",[i]),style:this.navStyle},[this.slots("nav-left"),"line"===i&&t("div",{class:h("line"),style:this.lineStyle}),s,this.slots("nav-right")])]),t("div",{ref:"content",class:h("content",{animated:a})},[a?t("div",{class:h("track"),style:this.trackStyle},[this.slots()]):this.slots()])])}})},"60b4":function(t,e,i){},7267:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("div",{staticClass:"background",style:t.styleObject,attrs:{id:"pageBackground"}})])},a=[],o={data:function(){return{styleObject:{background:"#f2f2f2"}}},props:["background"],created:function(){},mounted:function(){this.init()},methods:{init:function(){this.background&&(this.styleObject.background=this.background)}}},s=o,r=(i("7dfe"),i("2877")),c=Object(r["a"])(s,n,a,!1,null,"76080968",null);e["a"]=c.exports},"7dfe":function(t,e,i){"use strict";var n=i("60b4"),a=i.n(n);a.a},b807:function(t,e,i){},bda7:function(t,e,i){"use strict";i("68ef"),i("b807")},c935:function(t,e,i){"use strict";var n=i("4678"),a=i.n(n);a.a},da3c:function(t,e,i){"use strict";i("68ef")},f7b2:function(t,e,i){"use strict";var n=i("b775");e["a"]={addBooking:function(t){return n["a"].post("XhjcOwner/XhjcOwner/addBooking",t)},getReportList:function(t){return n["a"].post("XhjcOwner/XhjcOwner/getReportList",t)},getBookingList:function(t){return n["a"].post("XhjcOwner/XhjcOwner/getBookingList",t)},getBookingInfoById:function(t){return n["a"].post("XhjcOwner/XhjcOwner/getBookingInfoById",{bill_id:t})},cancelBookingById:function(t){return n["a"].post("XhjcOwner/XhjcOwner/cancelBookingById",t)},getPayModeInfo:function(t){return n["a"].post("CarOwner/PointsDeal/getPayModeInfo",t)},cancelOrder:function(t){return n["a"].post("CarOwner/PointsDeal/cancelOrder",t)},carOwnerPay:function(t){return n["a"].post("CarOwner/PointsDeal/carOwnerPay",t)},getAdStatistics:function(t){return n["a"].post("CarOwner/UsersCenter/getAdStatistics",t)}}}}]);