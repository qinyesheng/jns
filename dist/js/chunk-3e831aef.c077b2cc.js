(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e831aef"],{"1a57":function(t,e,a){},"26c2":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.ready?a("div",{staticClass:"page"},[a("background"),a("vehicleReportTemplate",{attrs:{baseInfo:t.baseInfo,report:t.report,sysInfo:t.sysInfo,scoreCondition:t.scoreCondition,makeResult:t.makeResult,maintainScheme:t.maintainScheme,selectBtnName:t.selectBtnName,adList:t.adList,adData:t.adData}}),a("div",{staticClass:"qrCode"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.WechatPic,expression:"WechatPic"}],attrs:{alt:""}}),a("p",[t._v("扫码关注小虎检车公众号")])])],1):t._e()},n=[],o=a("688f"),r=a("6aa7"),i=a("a4c3"),c=a("7267");function l(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var u={data:function(){var t;return t={qrCodeLink:"",selectBtnName:[],codeList:{bodywk:"外观内饰",light:"灯光系统",elect:"车载电脑",supply:"供电系统",driver:"传动系统",cold:"空调系统",engine:"发动机系统",chas:"底盘系统",brake:"制动系统"},data:{},sysInfo:[],report:{},baseInfo:{},scoreCondition:{},makeResult:"",maintainScheme:{}},l(t,"qrCodeLink",""),l(t,"code",""),l(t,"ready",!1),l(t,"WechatPic",a("b749")),l(t,"adList",{}),l(t,"adData",{loc_id:["C00002","C00005","C00006"],code:""}),l(t,"adMark",0),t},components:{vehicleReportTemplate:r["a"],qrCode:i["a"],background:c["a"]},created:function(){var t=this.$route.query;t&&(this.code=t.code,this.code&&(this.adData.code=this.code,this.getReportById(this.code),this.getAdList()))},mounted:function(){},methods:{vinEncode:function(t){return t.substring(0,4)+"*****"+t.substring(t.length-4)},remakeMaintenance:function(t){for(var e=[],a=0;a<t.length;a++){for(var s={labor:[],parts:[],consumable:[],labor_total:t[a].maintenanceTotal,consumable_total:t[a].suppliesTotal,parts_total:t[a].partsTotal,total_price:t[a].total,price_ssss:t[a].referencePrice4s,quality_desc:t[a].qualityTime},n=0;n<t[a].parts.length;n++)1==t[a].parts[n].partType?s.parts.push({part_brand:t[a].parts[n].brand,part_name:t[a].parts[n].name,subtotal:t[a].parts[n].subtotal,status:t[a].parts[n].status}):s.consumable.push({consumable_brand:t[a].parts[n].brand,consumable_name:t[a].parts[n].name,subtotal:t[a].parts[n].subtotal,status:t[a].parts[n].status});for(var o=0;o<t[a].maintenanceMode.length;o++)s.labor.push({labor_name:t[a].maintenanceMode[o].maintenanceName,labor_price:t[a].maintenanceMode[o].maintenancePrice,status:t[a].maintenanceMode[o].status});e.push(s)}this.report.maintenance=e,this.maintainScheme=this.report.maintenance[0]},getReportById:function(t){var e=this;o["a"].getWholeCarReport({code:t}).then(function(t){2e4==t.code?(e.sysInfo=t.data.reportData.sysInfo,e.data=t.data,e.report=t.data.reportData,e.qrCodeLink=e.report.ownerReportUrl,e.remakeData(e.report.subSysInfo),e.remakeMaintenance(e.report.maintenance),e.selectBtnName=e.report.maintenance.length>1?["即时维修方式","预案维修方式"]:[],e.report.baseInfo.pic&&(e.report.baseInfo.pic=e.report.baseInfo.pic.split(",")),e.baseInfo=e.report.baseInfo,e.baseInfo.vin=e.report.baseInfo.carVinNo,e.baseInfo.car_icon=e.report.baseInfo.carBrandLogo,e.baseInfo.car_model_full_name=e.report.baseInfo.carMemo,e.baseInfo.vin=e.vinEncode(e.baseInfo.carVinNo),e.scoreCondition.totalScore=e.report.baseInfo.totalScore,e.scoreCondition.orgName=e.report.baseInfo.orgName,e.scoreCondition.techNumber=e.report.baseInfo.techNumber,e.scoreCondition.createUserName=e.report.baseInfo.createUserName,e.scoreCondition.detectionTime=e.report.baseInfo.detectionTime,e.makeResult=e.report.makeResult,e.sysInfo=e.report.sysInfo):e.$toast.fail(t.msg)})},remakeData:function(t){for(var e=0;e<this.sysInfo.length;e++)for(var a in this.sysInfo[e].title="",this.sysInfo[e].more=!1,this.sysInfo[e].faultNum=0,this.codeList)this.sysInfo[e].code===a&&(this.sysInfo[e].title=this.codeList[a]);var s={subSysInfo:[],status:"e",code:"supply",title:"供电系统",faultNum:0};this.sysInfo.forEach(function(e){e.subSysInfo=[],t.forEach(function(t){if(-1!=t.code.indexOf(e.code+"_")){if("elect"==e.code&&("elect_batteryVoltage"==t.code||"elect_generatingVoltage"==t.code||"elect_batteryPerf"==t.code))return"e"==s.status&&"e"!=t.level?s.status=t.level:"e"!=t.level&&1!=t.level?s.status=t.level:0==s.status&&0!=t.level&&"e"!=t.level&&1!=t.level?s.status=t.level:2==s.status&&"e"!=t.level&&1!=t.level&&0!=t.level&&2!=t.level&&(s.status=t.level),s.subSysInfo.push(t),!0;e.subSysInfo.push(t)}})}),this.sysInfo.push(s);for(e=0;e<this.sysInfo.length;e++)for(a=0;a<this.sysInfo[e].subSysInfo.length;a++)"1"!==this.sysInfo[e].subSysInfo[a].level&&"e"!==this.sysInfo[e].subSysInfo[a].level&&(this.sysInfo[e].faultNum+=1),this.sysInfo[e].faultNum>0&&(this.sysInfo[e].more=!0)},getAdList:function(){var t=this;if(this.adMark!=this.adData.loc_id.length){var e={loc_id:this.adData.loc_id[this.adMark],report_code:this.adData.code};o["a"].getAdList(e).then(function(e){2e4==e.code?(t.adList[t.adData.loc_id[t.adMark]]=e.data.list,t.adMark+=1,t.getAdList()):t.$toast.fail(e.msg)})}else this.ready=!0}}},d=u,f=(a("2c5c"),a("2877")),p=Object(f["a"])(d,s,n,!1,null,"741d0d8c",null);e["default"]=p.exports},"2c5c":function(t,e,a){"use strict";var s=a("1a57"),n=a.n(s);n.a},3407:function(t,e,a){},"60b4":function(t,e,a){},7267:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"background",style:t.styleObject,attrs:{id:"pageBackground"}})])},n=[],o={data:function(){return{styleObject:{background:"#f2f2f2"}}},props:["background"],created:function(){},mounted:function(){this.init()},methods:{init:function(){this.background&&(this.styleObject.background=this.background)}}},r=o,i=(a("7dfe"),a("2877")),c=Object(i["a"])(r,s,n,!1,null,"76080968",null);e["a"]=c.exports},"7dfe":function(t,e,a){"use strict";var s=a("60b4"),n=a.n(s);n.a},a4c3:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page"},[a("div",{staticClass:"main-container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"pay-qrCode-info"},[t.titleStatus?a("h1",{staticClass:"title"},[t._v("收款二维码")]):t._e(),a("canvas",{staticClass:"qr-code-canvas",attrs:{id:"qrCodeCanvas"},on:{click:t.qrCodeClick}})]),a("van-popup",{staticClass:"qr-code-canvas-popup",attrs:{"lazy-render":!1},on:{"click-overlay":t.clickOverlay},model:{value:t.popShow,callback:function(e){t.popShow=e},expression:"popShow"}},[a("canvas",{staticClass:"qr-code-canvas-pop",attrs:{id:"qrCodeClick"}})]),t.buttonStatus?a("pubButton",{attrs:{title:t.buttonTtile},on:{buttonConfirm:t.payment}}):t._e()],1)])},n=[],o=a("d055"),r=a.n(o),i=a("e62a"),c=a("cf45"),l={name:"qrCode",components:{pubButton:i["a"]},data:function(){return{show:!0,popShow:!1}},props:{qrCodeLink:{type:String,default:""},buttonTtile:{type:String,default:"查看二维码"},titleStatus:{type:Boolean,default:!0},buttonStatus:{type:Boolean,default:!0}},created:function(){},mounted:function(){var t=Object(c["f"])();this.useQrcode("qrCodeCanvas",{width:180,margin:1}),this.useQrcode("qrCodeClick",{width:t,margin:1})},methods:{useQrcode:function(t,e){var a=this,s=document.getElementById(t);r.a.toCanvas(s,a.qrCodeLink||"",e,function(t){})},payment:function(){this.$emit("payment")},qrCodeClick:function(){this.show=!1,this.popShow=!0},clickOverlay:function(){this.show=!0}}},u=l,d=(a("b125"),a("2877")),f=Object(d["a"])(u,s,n,!1,null,"f59a7d14",null);e["a"]=f.exports},b125:function(t,e,a){"use strict";var s=a("3407"),n=a.n(s);n.a},b749:function(t,e,a){t.exports=a.p+"img/Wechat.dac2cc37.jpg"}}]);