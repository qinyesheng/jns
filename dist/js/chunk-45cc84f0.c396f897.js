(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45cc84f0"],{"0a26":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("ad06"),i=n("f331"),r=function(e,t){return{mixins:[i["a"]],props:{name:null,value:null,disabled:Boolean,checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"}},created:function(){this.findParent(e)},computed:{isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var e=this.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}}},render:function(e){var n=this,i=this.slots,r=this.checked,s=i("icon",{checked:r})||e(a["a"],{attrs:{name:"success"},style:this.iconStyle}),c=i()&&e("span",{class:t("label",[this.labelPosition,{disabled:this.isDisabled}]),on:{click:this.onClickLabel}},[i()]);return e("div",{class:t(),on:{click:function(e){n.$emit("click",e)}}},[e("div",{class:t("icon",[this.shape,{disabled:this.isDisabled,checked:r}]),on:{click:this.onClickIcon}},[s]),c])}}}},"0ce5":function(e,t,n){},"2fce":function(e,t,n){"use strict";n.r(t);var a,i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"carKmInput"},[n("headerOne",{attrs:{isFixed:!0,onClickLeftStatus:e.onClickLeftStatus},on:{onClickLeft:e.back}}),n("div",{staticClass:"main-container"},[n("div",{staticClass:"carKm-input-block"},[n("div",[n("p",{staticClass:"carInfo"},[n("span",[e._v("车辆信息")]),n("span",[e.routeFrom&&"vin"==e.routeFrom?n("router-link",{staticStyle:{color:"#46aef7"},attrs:{to:"tailChangeCar"}},[e._v("车型变更")]):e._e()],1)]),n("div",{staticClass:"carInfoDesc"},[e._v(e._s(e.carInfo.carModelFullName))])]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("行驶里程")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{name:"carKm",maxlength:"6",placeholder:"请输入行驶里程",type:"number"},on:{focus:e.focus,blur:e.blur,input:e.mileageInput},model:{value:e.carKm,callback:function(t){e.carKm=t},expression:"carKm"}})],1),n("span",[e._v("km")])],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("车牌号码")]),n("div",{staticClass:"inputKm carPhone"},[n("van-cell-group",[n("van-field",{attrs:{readonly:"",clickable:"",value:e.carInfo.plateNumberP},on:{click:function(t){return e.openPop("plateNumberP")}}}),n("van-field",{attrs:{readonly:"",clickable:"",value:e.carInfo.plateNumberC},on:{click:function(t){return e.openPop("plateNumberC")}}}),n("van-field",{attrs:{name:"plateNumber",maxlength:"6",placeholder:"请输入车牌号码"},on:{focus:e.focus,blur:e.blur},model:{value:e.carInfo.plateNumber,callback:function(t){e.$set(e.carInfo,"plateNumber",t)},expression:"carInfo.plateNumber"}})],1)],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("用户名")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{name:"userName",placeholder:"请输入用户名"},on:{focus:e.focus,blur:e.blur},model:{value:e.carInfo.userName,callback:function(t){e.$set(e.carInfo,"userName",t)},expression:"carInfo.userName"}})],1)],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("联系方式")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{name:"phone",maxlength:"11",placeholder:"请输入联系方式",type:"number"},on:{focus:e.focus,blur:e.blur,input:e.phoneInput},model:{value:e.carInfo.phone,callback:function(t){e.$set(e.carInfo,"phone",t)},expression:"carInfo.phone"}})],1)],1)]),n("ul",{staticClass:"change-car-input-block"},[n("li",[e._m(0),n("van-cell-group",{on:{click:function(t){return e.openPop("fuelType")}}},[n("van-cell",{attrs:{title:e.carInfo.fuelType?e.carInfo.fuelType:"请选择燃油类型","is-link":""}})],1)],1),n("li",[e._m(1),n("van-cell-group",{on:{click:function(t){return e.openPop("oilSupplyMode")}}},[n("van-cell",{attrs:{title:e.carInfo.oilSupplyMode?e.carInfo.oilSupplyMode:"请选择供油方式","is-link":""}})],1)],1),n("li",[e._m(2),n("van-cell-group",{on:{click:function(t){return e.openPop("intakeMode")}}},[n("van-cell",{attrs:{title:e.carInfo.intakeMode?e.carInfo.intakeMode:"请选择进气方式","is-link":""}})],1)],1),n("li",[e._m(3),n("van-cell-group",{on:{click:e.openDatePicker}},[n("van-cell",{attrs:{title:e.carInfo.issueDate?e.carInfo.issueDate:"请选择发证日期","is-link":""}})],1)],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("整备质量")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{maxlength:"10",placeholder:"请输入整备质量",type:"number"},on:{focus:e.focus,blur:e.qualityBlur},model:{value:e.carInfo.curbWeight,callback:function(t){e.$set(e.carInfo,"curbWeight",t)},expression:"carInfo.curbWeight"}})],1),n("span",[e._v("kg")])],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("座位数")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{maxlength:"10",placeholder:"请输入座位数",type:"number"},on:{focus:e.focus,blur:e.blur,input:e.seatInput},model:{value:e.carInfo.seat,callback:function(t){e.$set(e.carInfo,"seat",t)},expression:"carInfo.seat"}})],1),n("span",[e._v("座")])],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("发动机型号")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{maxlength:"32",placeholder:"请输入发动机型号"},on:{focus:e.focus,blur:e.blur,input:e.engineInput},model:{value:e.carInfo.engineModel,callback:function(t){e.$set(e.carInfo,"engineModel",t)},expression:"carInfo.engineModel"}})],1)],1)]),n("div",{staticClass:"steerMileage"},[n("h4",[e._v("发动机厂商")]),n("div",{staticClass:"inputKm"},[n("van-cell-group",[n("van-field",{attrs:{placeholder:"请输入发动机厂商"},on:{focus:e.focus,blur:e.blur},model:{value:e.carInfo.engineManufacturers,callback:function(t){e.$set(e.carInfo,"engineManufacturers",t)},expression:"carInfo.engineManufacturers"}})],1)],1)]),n("div",{staticClass:"car-km-submit"},[n("pubButton",{attrs:{title:"继续",isFixed:!1},on:{buttonConfirm:e.carKmSubmit}})],1)])]),n("rollListSelect",{attrs:{listInfo:e.listInfo,show:e.show},on:{confirm:e.confirm,cancel:e.cancel}}),n("van-popup",{attrs:{position:"bottom"},model:{value:e.isDatePickerShow,callback:function(t){e.isDatePickerShow=t},expression:"isDatePickerShow"}},[n("van-datetime-picker",{attrs:{type:"date","max-date":e.maxDate,"confirm-button-text":"确定",formatter:e.dateFormatter},on:{cancel:e.closeDatePicker,confirm:function(t){return e.confirmDate(e.currentDate)}},model:{value:e.currentDate,callback:function(t){e.currentDate=t},expression:"currentDate"}})],1)],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-car-key"},[n("b",[e._v("燃油类型")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-car-key"},[n("b",[e._v("供油方式")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-car-key"},[n("b",[e._v("进气方式")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"change-car-key"},[n("b",[e._v("发证日期")])])}],s=(n("d1cf"),n("ee83")),c=(n("5f5f"),n("f253")),o=(n("be7f"),n("565f")),l=n("87d9"),u=n("423e"),f=n("e62a"),h=n("24ca"),p=n("e17b"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("van-radio-group",{staticClass:"gearbox-type-list",on:{change:e.radioCheck},model:{value:e.currentChecked,callback:function(t){e.currentChecked=t},expression:"currentChecked"}},[n("van-cell-group",e._l(e.list,function(t,a){return n("van-cell",{key:a,attrs:{clickable:"",title:t},on:{click:function(n){e.currentChecked=t}}},[n("van-radio",{attrs:{name:t}})],1)}),1)],1)],1)},m=[],v=(n("4ddd"),n("9f14")),b=(n("a44c"),n("e27c")),g={data:function(){return{currentChecked:this.checked}},props:["title","checked","list"],components:{vanRadioGroup:b["a"],vanRadio:v["a"]},created:function(){},mounted:function(){},methods:{radioCheck:function(){this.$emit("radioCheck",this.currentChecked)}}},k=g,y=(n("7b13"),n("2877")),I=Object(y["a"])(k,d,m,!1,null,"1cb28bd2",null),C=I.exports,M=n("cf45");function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x={components:(a={headerOne:l["a"],pubButton:f["a"]},D(a,o["a"].name,o["a"]),D(a,c["a"].name,c["a"]),D(a,s["a"].name,s["a"]),D(a,"radioSelect",C),D(a,"rollListSelect",u["a"]),a),data:function(){return{listInfo:["汽油","柴油"],show:!1,carInfo:{fuelType:"汽油",oilSupplyMode:"",intakeMode:"",issueDate:"",curbWeight:"",seat:"",engineModel:"",engineManufacturers:"",plateNumber:"",userName:"",phone:"",plateNumberP:"粤",plateNumberC:"A"},carKm:"",message:"",inputFocus:!1,routeFrom:!1,canNext:!0,onClickLeftStatus:!0,rollListInfo:{selectType:"",fuelType:["汽油","柴油"],oilSupplyMode:[["汽油电喷","化油器（汽油）"],["柴油电喷","柴油直喷（柴油）"]],intakeMode:["自然吸气","涡轮增压"],plateNumberP:["粤","京","津","沪","渝","桂","宁","藏","新","浙","苏","赣","皖","闽","贵","云","鄂","湘","川","琼","鲁","晋","冀","豫","陕","甘","青","辽","吉","黑","蒙","其他"],plateNumberC:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},isDatePickerShow:!1,currentDate:new Date,maxDate:new Date}},created:function(){var e=this.$session.get("carInfo");if(e){this.carInfo=Object.assign(this.carInfo,e);var t=this.carInfo["fuelType"];t.includes("汽油")?this.carInfo.fuelType="汽油":t.includes("柴油")&&(this.carInfo.fuelType="柴油");var n=this.carInfo["airAdmission"];n.includes("自然吸气")?this.carInfo.intakeMode="自然吸气":n.includes("涡轮增压")&&(this.carInfo.intakeMode="涡轮增压"),delete this.carInfo["airAdmission"],this.carInfo.engineModel=this.carInfo["fadongji"],delete this.carInfo["fadongji"]}},mounted:function(){var e=this.$router.history.current.query.routeFrom;e&&(this.routeFrom=e)},methods:{carKmSubmit:function(){var e=this;if(!this.carKm)return this.$toast("请输入行驶里程",{position:top}),!1;var t={plateNumber:"请输入车牌号码",userName:"请输入用户名",phone:"请输入联系方式",fuelType:"请选择燃油类型",oilSupplyMode:"请选择供油方式",intakeMode:"请选择进气方式",issueDate:"请选择发证日期",curbWeight:"请输入整备质量",seat:"请输入座位数",engineModel:"请输入发动机型号"};for(var n in t)if(!this.carInfo[n])return this.$toast(t[n],{position:top}),!1;if(this.phoneChange(),this.canNext){this.canNext=!1;var a=this.carInfo;a.carStyle=a["nianKuan"],a.carBrandLogo=a["icoName"],a.carCc=a.carCc.indexOf("L")>-1?a.carCc:a.carCc+a.unit,a.tripDistance=this.carKm,a.carModelId?a.carType=0:a.carType=1;var i={baseInfo:a};h["a"].saveCreateBillJ007(i).then(function(t){if(e.canNext=!0,2e4==t.code){var n={bill_id:t.data.billStatus.billId,bill_type:"J007"};p["a"].h5ToApp(t.data.billStatus.nextStatusCode,n)}else e.$toast.fail(t.msg)})}},focus:function(){this.inputFocus=!0},blur:function(){this.inputFocus=!0},mileageInput:function(){this.carKm&&(this.carKm=parseInt(this.carKm))},phoneInput:function(){var e=this.carInfo.phone;e=e.replace(/[^0-9]{11}/g,"")},phoneChange:function(){var e=this.carInfo.phone;e&&e.length<11?(this.$toast("手机号码必须是11位"),this.canNext=!1):this.canNext=!0},qualityBlur:function(){this.inputFocus=!0,this.carInfo.curbWeight&&(this.carInfo.curbWeight=parseFloat(this.carInfo.curbWeight).toFixed(2))},seatInput:function(){this.carInfo.seat&&(this.carInfo.seat=parseInt(this.carInfo.seat))},engineInput:function(){this.carInfo.engineModel=this.carInfo.engineModel.replace(/[\W]/g,"")},openPop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(e){case"plateNumberP":this.assignmentProcess(e,"plateNumberP");break;case"plateNumberC":this.assignmentProcess(e,"plateNumberC");break;case"fuelType":this.assignmentProcess(e,"fuelType");break;case"oilSupplyMode":this.listInfo=this.carInfo["fuelType"]&&"汽油"!=this.carInfo["fuelType"]?this.rollListInfo["oilSupplyMode"][1]:this.rollListInfo["oilSupplyMode"][0],this.rollListInfo["selectType"]=e;break;case"intakeMode":this.assignmentProcess(e,"intakeMode");break;default:break}this.show=!0},assignmentProcess:function(e,t){this.rollListInfo["selectType"]=e,this.listInfo=this.rollListInfo[t]},back:function(){p["a"].h5Click().back()},openDatePicker:function(){this.isDatePickerShow=!0},closeDatePicker:function(){this.isDatePickerShow=!1},confirmDate:function(e){this.carInfo.issueDate=Object(M["c"])(e,"yyyy-MM-dd"),this.isDatePickerShow=!1},dateFormatter:function(e,t){return"year"===e?"".concat(t,"&nbsp;年"):"month"===e?"".concat(t,"&nbsp;月"):"day"===e?"".concat(t,"&nbsp;日"):t},confirm:function(e){switch(this.rollListInfo["selectType"]){case"fuelType":this.carInfo["fuelType"]=e;break;case"oilSupplyMode":this.carInfo["oilSupplyMode"]=e;break;case"intakeMode":this.carInfo["intakeMode"]=e;break;case"plateNumberP":this.carInfo["plateNumberP"]=e;break;case"plateNumberC":this.carInfo["plateNumberC"]=e;break;default:break}this.show=!1},cancel:function(){this.show=!1}}},N=x,S=(n("873a"),Object(y["a"])(N,i,r,!1,null,"6ae348a2",null));t["default"]=S.exports},"4ddd":function(e,t,n){"use strict";n("68ef"),n("dde9")},"7b13":function(e,t,n){"use strict";var a=n("0ce5"),i=n.n(a);i.a},"873a":function(e,t,n){"use strict";var a=n("f018"),i=n.n(a);i.a},"9f14":function(e,t,n){"use strict";var a=n("a142"),i=n("0a26"),r=Object(a["j"])("radio"),s=r[0],c=r[1];t["a"]=s({mixins:[Object(i["a"])("van-radio-group",c)],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{onClickIcon:function(){this.isDisabled||(this.currentValue=this.name)},onClickLabel:function(){this.isDisabled||this.labelDisabled||(this.currentValue=this.name)}}})},a44c:function(e,t,n){"use strict";n("68ef")},d1cf:function(e,t,n){"use strict";n("68ef"),n("a526")},dde9:function(e,t,n){},e27c:function(e,t,n){"use strict";var a=n("a142"),i=Object(a["j"])("radio-group"),r=i[0],s=i[1];t["a"]=r({props:{value:null,disabled:Boolean},watch:{value:function(e){this.$emit("change",e)}},render:function(e){return e("div",{class:s()},[this.slots()])}})},ee83:function(e,t,n){"use strict";var a=n("1988"),i=n("a142"),r=n("f253"),s=n("1b10");function c(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}function o(e){return("00"+e).slice(-2)}function l(e,t){var n=-1,a=Array(e);while(++n<e)a[n]=t(n);return a}function u(e){if(e){while(isNaN(parseInt(e,10)))e=e.slice(1);return parseInt(e,10)}}function f(e,t){return 32-new Date(e,t-1,32).getDate()}var h=Object(i["j"])("datetime-picker"),p=h[0],d=h[1],m=(new Date).getFullYear();t["a"]=p({props:Object(a["a"])({},s["a"],{value:null,minHour:Number,minMinute:Number,type:{type:String,default:"datetime"},showToolbar:{type:Boolean,default:!0},format:{type:String,default:"YYYY.MM.DD HH时 mm分"},formatter:{type:Function,default:function(e,t){return t}},minDate:{type:Date,default:function(){return new Date(m-10,0,1)},validator:c},maxDate:{type:Date,default:function(){return new Date(m+10,11,31)},validator:c},maxHour:{type:Number,default:23},maxMinute:{type:Number,default:59}}),data:function(){return{innerValue:this.correctValue(this.value)}},watch:{value:function(e){e=this.correctValue(e);var t="time"===this.type?e===this.innerValue:e.valueOf()===this.innerValue.valueOf();t||(this.innerValue=e,"time"===this.type&&this.updateColumnValue(e))},innerValue:function(e){this.$emit("input",e)},columns:function(){this.updateColumnValue(this.innerValue)}},computed:{ranges:function(){if("time"===this.type)return[{type:"hour",range:[this.minHour,this.maxHour]},{type:"minute",range:[this.minMinute,this.maxMinute]}];var e=this.getBoundary("max",this.innerValue),t=e.maxYear,n=e.maxDate,a=e.maxMonth,i=e.maxHour,r=e.maxMinute,s=this.getBoundary("min",this.innerValue),c=s.minYear,o=s.minDate,l=s.minMonth,u=s.minHour,f=s.minMinute,h=[{type:"year",range:[c,t]},{type:"month",range:[l,a]},{type:"day",range:[o,n]},{type:"hour",range:[u,i]},{type:"minute",range:[f,r]}];return"date"===this.type&&h.splice(3,2),"year-month"===this.type&&h.splice(2,3),h},columns:function(){var e=this,t=this.ranges.map(function(t){var n=t.type,a=t.range,i=l(a[1]-a[0]+1,function(t){var i=a[0]+t;return i=i<10?"0"+i:""+i,e.formatter(n,i)});return{values:i}});return t}},mounted:function(){this.updateColumnValue(this.innerValue)},methods:{correctValue:function(e){var t="time"!==this.type;if(t&&!c(e))e=this.minDate;else if(!e){var n=this.minHour;e=(n>10?n:"0"+n)+":00"}if(!t){var a=e.split(":"),r=a[0],s=a[1];return r=o(Object(i["i"])(r,this.minHour,this.maxHour)),s=o(Object(i["i"])(s,this.minMinute,this.maxMinute)),r+":"+s}return e=Math.max(e,this.minDate.getTime()),e=Math.min(e,this.maxDate.getTime()),new Date(e)},getBoundary:function(e,t){var n,a=this[e+"Date"],i=a.getFullYear(),r=1,s=1,c=0,o=0;return"max"===e&&(r=12,s=f(t.getFullYear(),t.getMonth()+1),c=23,o=59),t.getFullYear()===i&&(r=a.getMonth()+1,t.getMonth()+1===r&&(s=a.getDate(),t.getDate()===s&&(c=a.getHours(),t.getHours()===c&&(o=a.getMinutes())))),n={},n[e+"Year"]=i,n[e+"Month"]=r,n[e+"Date"]=s,n[e+"Hour"]=c,n[e+"Minute"]=o,n},onConfirm:function(){this.$emit("confirm",this.innerValue)},onChange:function(e){var t,n=this;if("time"===this.type){var a=e.getIndexes();t=a[0]+this.minHour+":"+(a[1]+this.minMinute)}else{var i=e.getValues(),r=u(i[0]),s=u(i[1]),c=f(r,s),o=u(i[2]);"year-month"===this.type&&(o=1),o=o>c?c:o;var l=0,h=0;"datetime"===this.type&&(l=u(i[3]),h=u(i[4])),t=new Date(r,s-1,o,l,h)}this.innerValue=this.correctValue(t),this.$nextTick(function(){n.$nextTick(function(){n.$emit("change",e)})})},updateColumnValue:function(e){var t=this,n=[],a=this.formatter;if("time"===this.type){var i=e.split(":");n=[a("hour",i[0]),a("minute",i[1])]}else n=[a("year",""+e.getFullYear()),a("month",o(e.getMonth()+1)),a("day",o(e.getDate()))],"datetime"===this.type&&n.push(a("hour",o(e.getHours())),a("minute",o(e.getMinutes()))),"year-month"===this.type&&(n=n.slice(0,2));this.$nextTick(function(){t.$refs.picker.setValues(n)})}},render:function(e){var t=this,n={};return Object.keys(s["a"]).forEach(function(e){n[e]=t[e]}),e(r["a"],{class:d(),ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:function(){t.$emit("cancel")}},props:Object(a["a"])({},n)})}})},f018:function(e,t,n){}}]);