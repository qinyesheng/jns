(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1265f1f0"],{"77c2":function(t,e,n){"use strict";var r=n("b775");e["a"]={getRechargeCenter:function(){return r["a"].post("CarOwner/UsersCenter/getRechargeCenter")},getDealList:function(t){return r["a"].post("CarOwner/UsersCenter/getDealList",t)},getDealInfo:function(t){return r["a"].post("CarOwner/UsersCenter/getDealInfo",{deal_detail_id:t})},getCardConsume:function(t){return r["a"].post("/CarOwner/UsersCenter/getCardConsume",{coupon_pwd:t})},saveCardConsume:function(t){return r["a"].post("/CarOwner/UsersCenter/saveCardConsume",{captcha:t})},getBindMobileSms:function(t){return r["a"].post("/CarOwner/UsersCenter/getBindMobileSms",t)},editCustomerBindMobile:function(t){return r["a"].post("/CarOwner/UsersCenter/editCustomerBindMobile",t)},getDividedStatistics:function(){return r["a"].post("/CarOwner/UsersCenter/getDividedStatistics")},getDividedList:function(t){return r["a"].post("/CarOwner/UsersCenter/getDividedList",t)}}},"79d3":function(t,e,n){},"7f03":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"main-container"},[n("h1",{staticClass:"bind-phone-title"},[t._v(t._s(t.title))]),n("div",{staticClass:"input-phone"},[n("van-field",{attrs:{type:"number",maxlength:"11",center:"",clearable:"",placeholder:"点击输入","error-message":t.errorMessage},on:{input:t.inputHandle,blur:t.blurHandle,clear:t.clear},model:{value:t.phoneValue,callback:function(e){t.phoneValue=e},expression:"phoneValue"}}),n("transition",{attrs:{name:"van-fade"}},[t.errorMsgStatus?n("p",{staticClass:"msg-error"},[t._v(t._s(t.errorMsg))]):t._e()])],1),n("div",{staticClass:"send-msm"},[n("van-cell-group",[n("transition",{attrs:{name:"van-fade"}},[n("van-field",{attrs:{type:"number",maxlength:"6",center:"",clearable:"",placeholder:"输入验证码","error-message":t.errorMessage},on:{input:t.msmInputHandle},model:{value:t.msmValue,callback:function(e){t.msmValue=e},expression:"msmValue"}},[t.slotLabel?t._e():n("van-button",{attrs:{slot:"button",size:"small",type:"info"},on:{click:t.getMsmCode},slot:"button"},[t._v("获取验证码")]),t.slotLabel?n("van-button",{attrs:{slot:"button",size:"small",type:"info"},slot:"button"},[n("i",{staticClass:"label-text label-left-text"},[t._v(t._s(t.countDownTime))]),n("i",{staticClass:"label-text label-right-text"},[t._v("后重发")])]):t._e()],1)],1)],1)],1),n("Vbutton",{attrs:{title:"确定",isFixed:!1,background:t.backgroundColor},on:{buttonConfirm:t.buttonConfirm}})],1)])},o=[],s=(n("be7f"),n("565f")),i=n("e62a"),a=n("77c2");function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={components:u({Vbutton:i["a"]},s["a"].name,s["a"]),data:function(){return{title:this.$route.meta.title,errorMessage:"",phoneValue:"",msmValue:"",msmStatus:!1,errorMsg:"",errorMsgStatus:!1,backgroundColor:"#91d6fb",countDownTime:null,slotLabel:!1,buttonStatus:!1}},created:function(){},mounted:function(){},methods:{errorMsgHint:function(t,e){this.errorMsg=e,this.errorMsgStatus=t},inputHandle:function(){var t=this.phoneValue.length;11!=t&&0!=t||this.errorMsgHint(!1,"")},blurHandle:function(){var t=this.phoneValue.length;return""==t?(this.errorMsgHint(!0,"手机号不能为空"),!1):11==t||(this.errorMsgHint(!0,"手机号格式不正确"),!1)},clear:function(){this.errorMsgHint(!1,"")},getMsmCode:function(){var t=this;this.blurHandle()&&a["a"].getBindMobileSms({mobile:this.phoneValue}).then(function(e){2e4==e.code?(t.msmInputHandle(),t.buttonStatus=!0,t.$toast(e.msg),t.countDownHandle(61),setTimeout(function(){t.$toast.clear(),t.slotLabel=!0},1e3)):(t.buttonStatus=!1,t.errorMsgHint(!0,e.msg))})},countDownHandle:function(t){var e,n=this;clearInterval(e),e=setInterval(function(){t--,0===t&&(window.clearInterval(e),n.slotLabel=!1),n.countDownTime=t+"S"},1e3),this.$once("hook:beforeDestroy",function(){clearInterval(e)})},msmInputHandle:function(){0==this.slotLabel||11!=this.phoneValue.length||6!=this.msmValue.length?this.backgroundColor="#91d6fb":this.backgroundColor="#46aef7"},buttonConfirm:function(){var t=this;if(this.buttonStatus&&0!=this.msmValue.length){var e={mobile:this.phoneValue,verify_code:this.msmValue};a["a"].editCustomerBindMobile(e).then(function(e){2e4==e.code?(t.$toast(e.msg),setTimeout(function(){t.$toast.clear(),t.$router.replace({name:"personalCenter"})},1500)):t.$toast(e.msg)})}}}},c=l,d=(n("985f"),n("2877")),f=Object(d["a"])(c,r,o,!1,null,"26c5ba8e",null);e["default"]=f.exports},"985f":function(t,e,n){"use strict";var r=n("79d3"),o=n.n(r);o.a},be7f:function(t,e,n){"use strict";n("68ef"),n("1146")},d5c9:function(t,e,n){},e62a:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"button-content",class:{buttonFixed:t.isFixed}},[n("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showStatus,expression:"showStatus"}],ref:"buttonSelector",style:t.styleButton,attrs:{"native-type":"button",type:"info",size:"large",block:!0},on:{click:t.buttonConfirm}},[t._v(t._s(t.title))])],1),n("van-row",{class:{"bottom-fixed-hide":!t.isFixed},style:t.styleButtonFixed})],1)},o=[];function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(n,!0).forEach(function(e){a(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={data:function(){return{showStatus:!0,styleButton:{},styleButtonFixed:{}}},props:{title:{type:String,default:""},background:{type:String,default:"#46aef7"},isFixed:{type:Boolean,default:!0},textColor:{type:String,default:"#fff"}},created:function(){},mounted:function(){this.init(),this.screenSizeControl(),this.styleButtonHandle()},methods:{init:function(){var t=this.$refs.buttonSelector.offsetHeight+10;this.styleButtonFixed={height:t+"px"}},buttonConfirm:function(){this.$emit("buttonConfirm")},screenSizeControl:function(){var t=this,e=document.documentElement.clientHeight||document.body.clientHeight;window.onresize=function(){var n=document.documentElement.clientHeight||document.body.clientHeight,r=e-n;t.showStatus=!(n<e&&r>100)}},styleButtonHandle:function(){this.styleButton={"background-color":this.background,border:"1px solid"+this.background,color:this.textColor}}},watch:{background:function(t,e){var n={"background-color":t,border:"1px solid"+t};this.styleButton=i({},this.styleButton,{},n)}}},l=u,c=(n("fc10"),n("2877")),d=Object(c["a"])(l,r,o,!1,null,"68d620b5",null);e["a"]=d.exports},fc10:function(t,e,n){"use strict";var r=n("d5c9"),o=n.n(r);o.a}}]);